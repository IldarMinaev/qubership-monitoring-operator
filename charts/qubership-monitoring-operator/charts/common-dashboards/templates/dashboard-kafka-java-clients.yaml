{{- if .Values.kafkaJavaClientsDashboard.install }}
apiVersion: integreatly.org/v1alpha1
kind: GrafanaDashboard
metadata:
  name: kafka-java-clients
  labels:
    app.kubernetes.io/name: kafka-java-clients
    app.kubernetes.io/instance: {{ cat "kafka-java-clients-" .Release.Namespace | nospace | trunc 63 | trimSuffix "-" }}
    app.kubernetes.io/component: monitoring
    app.kubernetes.io/part-of: monitoring
    app.kubernetes.io/version: {{ .Chart.AppVersion }}
spec:
  name: kafka-java-clients-dashboard.json
  json: >
    {
      "annotations": {
        "list": [
          {
            "builtIn": 1,
            "datasource": {
              "type": "grafana",
              "uid": "-- Grafana --"
            },
            "enable": true,
            "hide": true,
            "iconColor": "rgba(0, 211, 255, 1)",
            "name": "Annotations & Alerts",
            "target": {
              "limit": 100,
              "matchAny": false,
              "tags": [],
              "type": "dashboard"
            },
            "type": "dashboard"
          }
        ]
      },
      "description": "Kafka Java Producers and Consumers Monitoring Dashboard",
      "editable": true,
      "fiscalYearStartMonth": 0,
      "graphTooltip": 0,
      "id": 28,
      "links": [],
      "liveNow": false,
      "panels": [
        {
          "collapsed": false,
          "gridPos": {
            "h": 1,
            "w": 24,
            "x": 0,
            "y": 0
          },
          "id": 104,
          "panels": [],
          "title": "Overview",
          "type": "row"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "$datasource"
          },
          "description": "Number of records and bytes produced per second for a specific topic or across all topics.",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "thresholds"
              },
              "custom": {
                "align": "auto",
                "cellOptions": {
                  "type": "auto"
                },
                "filterable": false,
                "inspect": false
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": null
                  }
                ]
              }
            },
            "overrides": [
              {
                "matcher": {
                  "id": "byName",
                  "options": "Value #B"
                },
                "properties": [
                  {
                    "id": "unit",
                    "value": "decbytes"
                  }
                ]
              }
            ]
          },
          "gridPos": {
            "h": 6,
            "w": 24,
            "x": 0,
            "y": 1
          },
          "id": 4,
          "options": {
            "cellHeight": "sm",
            "footer": {
              "countRows": false,
              "enablePagination": false,
              "fields": [],
              "reducer": [
                "sum"
              ],
              "show": false
            },
            "frameIndex": 0,
            "showHeader": true
          },
          "pluginVersion": "10.4.2",
          "targets": [
            {
              "datasource": {
                "0": "$",
                "1": "d",
                "2": "a",
                "3": "t",
                "4": "a",
                "5": "s",
                "6": "o",
                "7": "u",
                "8": "r",
                "9": "c",
                "10": "e"
              },
              "editorMode": "code",
              "exemplar": false,
              "expr": "sum(kafka_producer_topic_record_send_total{namespace=\"$namespace\",cluster=\"$cluster\",client_id=~\"$client_id\",topic=~\"$topic\"}) by (topic, client_id, pod)",
              "format": "table",
              "instant": true,
              "interval": "",
              "legendFormat": "",
              "range": false,
              "refId": "A"
            },
            {
              "datasource": {
                "0": "$",
                "1": "d",
                "2": "a",
                "3": "t",
                "4": "a",
                "5": "s",
                "6": "o",
                "7": "u",
                "8": "r",
                "9": "c",
                "10": "e"
              },
              "editorMode": "code",
              "exemplar": false,
              "expr": "sum(kafka_producer_topic_byte_total{namespace=\"$namespace\",cluster=\"$cluster\",client_id=~\"$client_id\",topic=~\"$topic\"}) by (topic, client_id, pod)",
              "format": "table",
              "hide": false,
              "instant": true,
              "interval": "",
              "legendFormat": "",
              "range": false,
              "refId": "B"
            }
          ],
          "title": "Producers Overview",
          "transformations": [
            {
              "id": "merge",
              "options": {}
            },
            {
              "id": "organize",
              "options": {
                "excludeByName": {
                  "Time": true
                },
                "indexByName": {
                  "Time": 0,
                  "Value #A": 4,
                  "Value #B": 5,
                  "client_id": 2,
                  "pod": 1,
                  "topic": 3
                },
                "renameByName": {
                  "Value #A": "Processed Records",
                  "Value #B": "Processed Bytes",
                  "client_id": "Client ID",
                  "pod": "Pod",
                  "topic": "Topic"
                }
              }
            }
          ],
          "type": "table"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "$datasource"
          },
          "description": "Number of records and bytes consumed per second for a specific topic or across all topics.",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "thresholds"
              },
              "custom": {
                "align": "auto",
                "cellOptions": {
                  "type": "auto"
                },
                "inspect": false
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": null
                  }
                ]
              }
            },
            "overrides": [
              {
                "matcher": {
                  "id": "byName",
                  "options": "Value #B"
                },
                "properties": [
                  {
                    "id": "unit",
                    "value": "decbytes"
                  }
                ]
              }
            ]
          },
          "gridPos": {
            "h": 7,
            "w": 24,
            "x": 0,
            "y": 7
          },
          "id": 58,
          "options": {
            "cellHeight": "sm",
            "footer": {
              "countRows": false,
              "fields": "",
              "reducer": [
                "sum"
              ],
              "show": false
            },
            "showHeader": true
          },
          "pluginVersion": "10.4.2",
          "targets": [
            {
              "datasource": {
                "0": "$",
                "1": "d",
                "2": "a",
                "3": "t",
                "4": "a",
                "5": "s",
                "6": "o",
                "7": "u",
                "8": "r",
                "9": "c",
                "10": "e"
              },
              "editorMode": "code",
              "expr": "sum(kafka_consumer_fetch_manager_records_consumed_total{namespace=\"$namespace\",cluster=\"$cluster\",client_id=~\"$client_id\",topic=~\"$topic\",pod=~\"$pod\"}) by (client_id, topic, pod)",
              "format": "table",
              "instant": true,
              "interval": "",
              "legendFormat": "",
              "refId": "A"
            },
            {
              "datasource": {
                "0": "$",
                "1": "d",
                "2": "a",
                "3": "t",
                "4": "a",
                "5": "s",
                "6": "o",
                "7": "u",
                "8": "r",
                "9": "c",
                "10": "e"
              },
              "editorMode": "code",
              "expr": "sum(kafka_consumer_fetch_manager_bytes_consumed_total{namespace=\"$namespace\",cluster=\"$cluster\",client_id=~\"$client_id\",topic=~\"$topic\",pod=~\"$pod\"}) by (client_id, topic, pod)",
              "format": "table",
              "instant": true,
              "interval": "",
              "legendFormat": "",
              "refId": "B"
            }
          ],
          "title": "Consumers Overview",
          "transformations": [
            {
              "id": "merge",
              "options": {
                "reducers": []
              }
            },
            {
              "id": "organize",
              "options": {
                "excludeByName": {
                  "Time": true,
                  "pod": false
                },
                "indexByName": {
                  "Time": 0,
                  "Value #A": 4,
                  "Value #B": 5,
                  "client_id": 2,
                  "pod": 1,
                  "topic": 3
                },
                "renameByName": {
                  "Value #A": "Processed Records",
                  "Value #B": "Processed Bytes",
                  "client_id": "Client ID",
                  "pod": "Pod",
                  "topic": "Topic"
                }
              }
            }
          ],
          "type": "table"
        },
        {
          "collapsed": true,
          "gridPos": {
            "h": 1,
            "w": 24,
            "x": 0,
            "y": 14
          },
          "id": 108,
          "panels": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "$datasource"
              },
              "description": "CPU usage by pod.",
              "fieldConfig": {
                "defaults": {
                  "color": {
                    "mode": "palette-classic"
                  },
                  "custom": {
                    "axisBorderShow": false,
                    "axisCenteredZero": false,
                    "axisColorMode": "text",
                    "axisLabel": "Millicores",
                    "axisPlacement": "auto",
                    "barAlignment": 0,
                    "drawStyle": "line",
                    "fillOpacity": 10,
                    "gradientMode": "none",
                    "hideFrom": {
                      "legend": false,
                      "tooltip": false,
                      "viz": false
                    },
                    "insertNulls": false,
                    "lineInterpolation": "linear",
                    "lineWidth": 1,
                    "pointSize": 5,
                    "scaleDistribution": {
                      "type": "linear"
                    },
                    "showPoints": "never",
                    "spanNulls": true,
                    "stacking": {
                      "group": "A",
                      "mode": "none"
                    },
                    "thresholdsStyle": {
                      "mode": "off"
                    }
                  },
                  "mappings": [],
                  "min": 0,
                  "thresholds": {
                    "mode": "absolute",
                    "steps": [
                      {
                        "color": "green",
                        "value": null
                      },
                      {
                        "color": "red",
                        "value": 80
                      }
                    ]
                  },
                  "unit": "short"
                },
                "overrides": [
                  {
                    "matcher": {
                      "id": "byFrameRefID",
                      "options": "C"
                    },
                    "properties": [
                      {
                        "id": "color",
                        "value": {
                          "fixedColor": "dark-red",
                          "mode": "fixed"
                        }
                      },
                      {
                        "id": "custom.fillOpacity",
                        "value": 0
                      }
                    ]
                  }
                ]
              },
              "gridPos": {
                "h": 8,
                "w": 12,
                "x": 0,
                "y": 15
              },
              "id": 79,
              "interval": "$inter",
              "options": {
                "legend": {
                  "calcs": [
                    "mean",
                    "max"
                  ],
                  "displayMode": "table",
                  "placement": "bottom",
                  "showLegend": true
                },
                "tooltip": {
                  "mode": "multi",
                  "sort": "none"
                }
              },
              "pluginVersion": "9.5.2",
              "targets": [
                {
                  "datasource": {
                    "uid": "$datasource"
                  },
                  "editorMode": "code",
                  "expr": "(sum(rate(container_cpu_usage_seconds_total{namespace=\"$namespace\", cluster=\"$cluster\", pod=~\"$pod\", container!=\"\"}[5m])) by (pod)) * 1000",
                  "hide": false,
                  "legendFormat": "Usage: {{ `{{` }}pod{{ `}}` }}",
                  "range": true,
                  "refId": "A"
                },
                {
                  "datasource": {
                    "uid": "$datasource"
                  },
                  "editorMode": "code",
                  "expr": "(sum(kube_pod_container_resource_limits_cpu_cores{exported_namespace=\"$namespace\", cluster=\"$cluster\", pod=~\"$pod\"}) by (pod)) * 1000",
                  "hide": false,
                  "legendFormat": "Limit: {{ `{{` }}pod{{ `}}` }}",
                  "range": true,
                  "refId": "C"
                }
              ],
              "title": "CPU Usage",
              "type": "timeseries"
            },
            {
              "datasource": {
                "type": "prometheus",
                "uid": "$datasource"
              },
              "description": "Memory usage by pod.",
              "fieldConfig": {
                "defaults": {
                  "color": {
                    "mode": "palette-classic"
                  },
                  "custom": {
                    "axisBorderShow": false,
                    "axisCenteredZero": false,
                    "axisColorMode": "text",
                    "axisLabel": "",
                    "axisPlacement": "auto",
                    "barAlignment": 0,
                    "drawStyle": "line",
                    "fillOpacity": 10,
                    "gradientMode": "none",
                    "hideFrom": {
                      "legend": false,
                      "tooltip": false,
                      "viz": false
                    },
                    "insertNulls": false,
                    "lineInterpolation": "linear",
                    "lineWidth": 1,
                    "pointSize": 5,
                    "scaleDistribution": {
                      "type": "linear"
                    },
                    "showPoints": "never",
                    "spanNulls": false,
                    "stacking": {
                      "group": "A",
                      "mode": "none"
                    },
                    "thresholdsStyle": {
                      "mode": "off"
                    }
                  },
                  "links": [],
                  "mappings": [],
                  "thresholds": {
                    "mode": "absolute",
                    "steps": [
                      {
                        "color": "green",
                        "value": null
                      },
                      {
                        "color": "red",
                        "value": 80
                      }
                    ]
                  },
                  "unit": "bytes"
                },
                "overrides": [
                  {
                    "matcher": {
                      "id": "byFrameRefID",
                      "options": "C"
                    },
                    "properties": [
                      {
                        "id": "color",
                        "value": {
                          "fixedColor": "dark-red",
                          "mode": "fixed"
                        }
                      },
                      {
                        "id": "custom.fillOpacity",
                        "value": 0
                      }
                    ]
                  }
                ]
              },
              "gridPos": {
                "h": 8,
                "w": 12,
                "x": 12,
                "y": 15
              },
              "id": 80,
              "interval": "$inter",
              "options": {
                "legend": {
                  "calcs": [
                    "mean",
                    "max"
                  ],
                  "displayMode": "table",
                  "placement": "bottom",
                  "showLegend": true
                },
                "tooltip": {
                  "mode": "multi",
                  "sort": "none"
                }
              },
              "pluginVersion": "9.5.2",
              "targets": [
                {
                  "datasource": {
                    "uid": "$datasource"
                  },
                  "editorMode": "code",
                  "expr": "sum(container_memory_usage_bytes{namespace=\"$namespace\", cluster=\"$cluster\", pod=~\"$pod\", container!=\"\"}) by (pod)",
                  "legendFormat": "Allocated: {{ `{{` }}pod{{ `}}` }}",
                  "range": true,
                  "refId": "A"
                },
                {
                  "datasource": {
                    "uid": "$datasource"
                  },
                  "editorMode": "code",
                  "expr": "sum(container_memory_working_set_bytes{namespace=\"$namespace\", cluster=\"$cluster\", pod=~\"$pod\", container!=\"\"}) by (pod)",
                  "legendFormat": "Usage: {{ `{{` }}pod{{ `}}` }}",
                  "range": true,
                  "refId": "B"
                },
                {
                  "datasource": {
                    "uid": "$datasource"
                  },
                  "editorMode": "code",
                  "expr": "sum(kube_pod_container_resource_limits_memory_bytes{exported_namespace=\"$namespace\", cluster=\"$cluster\",exported_pod=~\"$pod\"}) by (exported_pod)",
                  "legendFormat": "Limit: {{ `{{` }}exported_pod{{ `}}` }}",
                  "range": true,
                  "refId": "C"
                }
              ],
              "title": "Memory Usage",
              "type": "timeseries"
            },
            {
              "datasource": {
                "type": "prometheus",
                "uid": "$datasource"
              },
              "description": "Heap memory usage by pod.",
              "fieldConfig": {
                "defaults": {
                  "color": {
                    "mode": "palette-classic"
                  },
                  "custom": {
                    "axisBorderShow": false,
                    "axisCenteredZero": false,
                    "axisColorMode": "text",
                    "axisLabel": "",
                    "axisPlacement": "auto",
                    "barAlignment": 0,
                    "drawStyle": "line",
                    "fillOpacity": 10,
                    "gradientMode": "none",
                    "hideFrom": {
                      "legend": false,
                      "tooltip": false,
                      "viz": false
                    },
                    "insertNulls": false,
                    "lineInterpolation": "linear",
                    "lineWidth": 1,
                    "pointSize": 5,
                    "scaleDistribution": {
                      "type": "linear"
                    },
                    "showPoints": "never",
                    "spanNulls": false,
                    "stacking": {
                      "group": "A",
                      "mode": "none"
                    },
                    "thresholdsStyle": {
                      "mode": "off"
                    }
                  },
                  "mappings": [],
                  "thresholds": {
                    "mode": "absolute",
                    "steps": [
                      {
                        "color": "green",
                        "value": null
                      },
                      {
                        "color": "red",
                        "value": 80
                      }
                    ]
                  },
                  "unit": "decbytes"
                },
                "overrides": [
                  {
                    "matcher": {
                      "id": "byName",
                      "options": "Heap Memory - Max"
                    },
                    "properties": [
                      {
                        "id": "color",
                        "value": {
                          "fixedColor": "#ef843c",
                          "mode": "fixed"
                        }
                      }
                    ]
                  },
                  {
                    "matcher": {
                      "id": "byRegexp",
                      "options": "/Limit:.*/"
                    },
                    "properties": [
                      {
                        "id": "color",
                        "value": {
                          "fixedColor": "#C4162A",
                          "mode": "fixed"
                        }
                      },
                      {
                        "id": "custom.fillOpacity",
                        "value": 0
                      }
                    ]
                  }
                ]
              },
              "gridPos": {
                "h": 8,
                "w": 12,
                "x": 0,
                "y": 23
              },
              "id": 81,
              "interval": "$inter",
              "options": {
                "legend": {
                  "calcs": [
                    "mean",
                    "max"
                  ],
                  "displayMode": "table",
                  "placement": "bottom",
                  "showLegend": true
                },
                "tooltip": {
                  "mode": "multi",
                  "sort": "none"
                }
              },
              "pluginVersion": "9.5.2",
              "targets": [
                {
                  "alias": "Used: $tag_jolokia_agent_url",
                  "datasource": {
                    "0": "$",
                    "1": "d",
                    "2": "a",
                    "3": "t",
                    "4": "a",
                    "5": "s",
                    "6": "o",
                    "7": "u",
                    "8": "r",
                    "9": "c",
                    "10": "e"
                  },
                  "editorMode": "code",
                  "expr": "jvm_memory_used_bytes{area=\"heap\",namespace=\"$namespace\",pod=~\"$pod\",cluster=\"$cluster\"} or jvm_memory_bytes_used{area=\"heap\",namespace=\"$namespace\",pod=~\"$pod\",cluster=\"$cluster\"}",
                  "groupBy": [
                    {
                      "params": [
                        "$__interval"
                      ],
                      "type": "time"
                    },
                    {
                      "params": [
                        "none"
                      ],
                      "type": "fill"
                    }
                  ],
                  "hide": false,
                  "interval": "",
                  "legendFormat": "Usage: {{ `{{` }}pod{{ `}}` }}",
                  "measurement": "java_memory",
                  "orderByTime": "ASC",
                  "policy": "default",
                  "query": "SELECT mean(\"HeapMemoryUsage.used\") FROM \"streaming_platform_jvm_memory\" WHERE (\"project_name\" =~ /^$project$/ AND \"jolokia_agent_url\" =~ /streaming.*/) AND $timeFilter GROUP BY time($__interval), \"jolokia_agent_url\" fill(null)",
                  "range": true,
                  "rawQuery": true,
                  "refId": "B",
                  "resultFormat": "time_series",
                  "select": [
                    [
                      {
                        "params": [
                          "HeapMemoryUsage.used"
                        ],
                        "type": "field"
                      },
                      {
                        "params": [],
                        "type": "mean"
                      }
                    ]
                  ],
                  "tags": [
                    {
                      "key": "EC2_IPADDRESS",
                      "operator": "=~",
                      "value": "/^$IP$/"
                    }
                  ]
                },
                {
                  "alias": "Limit: $tag_jolokia_agent_url",
                  "datasource": {
                    "0": "$",
                    "1": "d",
                    "2": "a",
                    "3": "t",
                    "4": "a",
                    "5": "s",
                    "6": "o",
                    "7": "u",
                    "8": "r",
                    "9": "c",
                    "10": "e"
                  },
                  "editorMode": "code",
                  "expr": "jvm_memory_max_bytes{area=\"heap\",namespace=\"$namespace\",pod=~\"$pod\",cluster=\"$cluster\"} or jvm_memory_bytes_max{area=\"heap\",namespace=\"$namespace\",pod=~\"$pod\",cluster=\"$cluster\"}",
                  "groupBy": [
                    {
                      "params": [
                        "$__interval"
                      ],
                      "type": "time"
                    },
                    {
                      "params": [
                        "none"
                      ],
                      "type": "fill"
                    }
                  ],
                  "hide": false,
                  "interval": "",
                  "legendFormat": "Limit: {{ `{{` }}pod{{ `}}` }}",
                  "measurement": "java_memory",
                  "orderByTime": "ASC",
                  "policy": "default",
                  "query": "SELECT mean(\"HeapMemoryUsage.max\") FROM \"streaming_platform_jvm_memory\" WHERE (\"project_name\" =~ /^$project$/ AND \"jolokia_agent_url\" =~ /streaming.*/) AND $timeFilter GROUP BY time($__interval), \"jolokia_agent_url\" fill(null)",
                  "range": true,
                  "rawQuery": true,
                  "refId": "C",
                  "resultFormat": "time_series",
                  "select": [
                    [
                      {
                        "params": [
                          "HeapMemoryUsage.max"
                        ],
                        "type": "field"
                      },
                      {
                        "params": [],
                        "type": "mean"
                      }
                    ]
                  ],
                  "tags": [
                    {
                      "key": "EC2_IPADDRESS",
                      "operator": "=~",
                      "value": "/^$IP$/"
                    }
                  ]
                }
              ],
              "title": "Heap Memory Usage",
              "type": "timeseries"
            },
            {
              "datasource": {
                "type": "prometheus",
                "uid": "$datasource"
              },
              "description": "Network Rate: transmitted (tx) and received (rx).",
              "fieldConfig": {
                "defaults": {
                  "color": {
                    "mode": "palette-classic"
                  },
                  "custom": {
                    "axisBorderShow": false,
                    "axisCenteredZero": false,
                    "axisColorMode": "text",
                    "axisLabel": "",
                    "axisPlacement": "auto",
                    "barAlignment": 0,
                    "drawStyle": "line",
                    "fillOpacity": 10,
                    "gradientMode": "none",
                    "hideFrom": {
                      "legend": false,
                      "tooltip": false,
                      "viz": false
                    },
                    "insertNulls": false,
                    "lineInterpolation": "linear",
                    "lineWidth": 1,
                    "pointSize": 5,
                    "scaleDistribution": {
                      "type": "linear"
                    },
                    "showPoints": "never",
                    "spanNulls": false,
                    "stacking": {
                      "group": "A",
                      "mode": "none"
                    },
                    "thresholdsStyle": {
                      "mode": "off"
                    }
                  },
                  "mappings": [],
                  "min": 0,
                  "thresholds": {
                    "mode": "absolute",
                    "steps": [
                      {
                        "color": "green",
                        "value": null
                      },
                      {
                        "color": "red",
                        "value": 80
                      }
                    ]
                  },
                  "unit": "Bps"
                },
                "overrides": [
                  {
                    "matcher": {
                      "id": "byRegexp",
                      "options": "/total$/"
                    },
                    "properties": [
                      {
                        "id": "color",
                        "value": {
                          "fixedColor": "#58140C",
                          "mode": "fixed"
                        }
                      },
                      {
                        "id": "custom.lineWidth",
                        "value": 2
                      }
                    ]
                  }
                ]
              },
              "gridPos": {
                "h": 8,
                "w": 12,
                "x": 12,
                "y": 23
              },
              "id": 82,
              "interval": "$inter",
              "options": {
                "legend": {
                  "calcs": [
                    "mean",
                    "max"
                  ],
                  "displayMode": "table",
                  "placement": "bottom",
                  "showLegend": true
                },
                "tooltip": {
                  "mode": "multi",
                  "sort": "none"
                }
              },
              "pluginVersion": "9.5.2",
              "targets": [
                {
                  "alias": "$tag_pod_name rx",
                  "datasource": {
                    "0": "$",
                    "1": "d",
                    "2": "a",
                    "3": "t",
                    "4": "a",
                    "5": "s",
                    "6": "o",
                    "7": "u",
                    "8": "r",
                    "9": "c",
                    "10": "e"
                  },
                  "dsType": "influxdb",
                  "editorMode": "code",
                  "expr": "rate(container_network_receive_bytes_total{namespace=\"$namespace\",pod=~\"$pod\",cluster=\"$cluster\"}[5m])",
                  "groupBy": [
                    {
                      "params": [
                        "$inter"
                      ],
                      "type": "time"
                    },
                    {
                      "params": [
                        "pod_name"
                      ],
                      "type": "tag"
                    },
                    {
                      "params": [
                        "null"
                      ],
                      "type": "fill"
                    }
                  ],
                  "hide": false,
                  "instant": false,
                  "interval": "",
                  "legendFormat": "In: {{ `{{` }}pod{{ `}}` }}",
                  "measurement": "network/rx_rate",
                  "orderByTime": "ASC",
                  "policy": "default",
                  "query": "SELECT last(\"value\") FROM \"network/rx_rate\" WHERE (\"namespace_name\" =~ /^$project$/ AND \"type\" = 'pod' AND \"pod_name\" =~ /streaming(.*)/) AND $timeFilter GROUP BY time($inter), \"pod_name\" fill(linear)",
                  "rawQuery": true,
                  "refId": "A",
                  "resultFormat": "time_series",
                  "select": [
                    [
                      {
                        "params": [
                          "value"
                        ],
                        "type": "field"
                      },
                      {
                        "params": [],
                        "type": "last"
                      }
                    ]
                  ],
                  "tags": [
                    {
                      "key": "namespace_name",
                      "operator": "=~",
                      "value": "/^$project$/"
                    },
                    {
                      "condition": "AND",
                      "key": "type",
                      "operator": "=",
                      "value": "pod"
                    },
                    {
                      "condition": "AND",
                      "key": "pod_name",
                      "operator": "=~",
                      "value": "/streaming(.*)/"
                    }
                  ]
                },
                {
                  "alias": "$tag_pod_name rx",
                  "datasource": {
                    "0": "$",
                    "1": "d",
                    "2": "a",
                    "3": "t",
                    "4": "a",
                    "5": "s",
                    "6": "o",
                    "7": "u",
                    "8": "r",
                    "9": "c",
                    "10": "e"
                  },
                  "dsType": "influxdb",
                  "editorMode": "code",
                  "expr": "rate(container_network_transmit_bytes_total{namespace=\"$namespace\",pod=~\"$pod\",cluster=\"$cluster\"}[5m])",
                  "groupBy": [
                    {
                      "params": [
                        "$inter"
                      ],
                      "type": "time"
                    },
                    {
                      "params": [
                        "pod_name"
                      ],
                      "type": "tag"
                    },
                    {
                      "params": [
                        "null"
                      ],
                      "type": "fill"
                    }
                  ],
                  "hide": false,
                  "instant": false,
                  "interval": "",
                  "legendFormat": "Out: {{ `{{` }}pod{{ `}}` }}",
                  "measurement": "network/rx_rate",
                  "orderByTime": "ASC",
                  "policy": "default",
                  "query": "SELECT last(\"value\") FROM \"network/rx_rate\" WHERE (\"namespace_name\" =~ /^$project$/ AND \"type\" = 'pod' AND \"pod_name\" =~ /streaming(.*)/) AND $timeFilter GROUP BY time($inter), \"pod_name\" fill(linear)",
                  "rawQuery": true,
                  "refId": "B",
                  "resultFormat": "time_series",
                  "select": [
                    [
                      {
                        "params": [
                          "value"
                        ],
                        "type": "field"
                      },
                      {
                        "params": [],
                        "type": "last"
                      }
                    ]
                  ],
                  "tags": [
                    {
                      "key": "namespace_name",
                      "operator": "=~",
                      "value": "/^$project$/"
                    },
                    {
                      "condition": "AND",
                      "key": "type",
                      "operator": "=",
                      "value": "pod"
                    },
                    {
                      "condition": "AND",
                      "key": "pod_name",
                      "operator": "=~",
                      "value": "/streaming(.*)/"
                    }
                  ]
                }
              ],
              "title": "Network Rate",
              "type": "timeseries"
            }
          ],
          "title": "Resources Metrics",
          "type": "row"
        },
        {
          "collapsed": true,
          "gridPos": {
            "h": 1,
            "w": 24,
            "x": 0,
            "y": 15
          },
          "id": 2,
          "panels": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "$datasource"
              },
              "description": "The rate of records that successfully processed by Producer and written to Kafka topics.",
              "fieldConfig": {
                "defaults": {
                  "color": {
                    "mode": "palette-classic"
                  },
                  "custom": {
                    "axisBorderShow": false,
                    "axisCenteredZero": false,
                    "axisColorMode": "text",
                    "axisLabel": "",
                    "axisPlacement": "auto",
                    "barAlignment": 0,
                    "drawStyle": "line",
                    "fillOpacity": 20,
                    "gradientMode": "none",
                    "hideFrom": {
                      "legend": false,
                      "tooltip": false,
                      "viz": false
                    },
                    "insertNulls": false,
                    "lineInterpolation": "linear",
                    "lineWidth": 2,
                    "pointSize": 5,
                    "scaleDistribution": {
                      "type": "linear"
                    },
                    "showPoints": "never",
                    "spanNulls": false,
                    "stacking": {
                      "group": "A",
                      "mode": "none"
                    },
                    "thresholdsStyle": {
                      "mode": "off"
                    }
                  },
                  "decimals": 0,
                  "mappings": [],
                  "min": 0,
                  "thresholds": {
                    "mode": "absolute",
                    "steps": [
                      {
                        "color": "green",
                        "value": null
                      },
                      {
                        "color": "red",
                        "value": 80
                      }
                    ]
                  },
                  "unit": "cps"
                },
                "overrides": []
              },
              "gridPos": {
                "h": 9,
                "w": 8,
                "x": 0,
                "y": 3
              },
              "id": 10,
              "interval": "$inter",
              "options": {
                "legend": {
                  "calcs": [
                    "mean",
                    "max"
                  ],
                  "displayMode": "table",
                  "placement": "bottom",
                  "showLegend": true,
                  "width": 300
                },
                "tooltip": {
                  "mode": "multi",
                  "sort": "none"
                }
              },
              "pluginVersion": "9.5.2",
              "targets": [
                {
                  "alias": "connector: $tag_connectorName topic: $tag_topicName",
                  "datasource": {
                    "0": "$",
                    "1": "d",
                    "2": "a",
                    "3": "t",
                    "4": "a",
                    "5": "s",
                    "6": "o",
                    "7": "u",
                    "8": "r",
                    "9": "c",
                    "10": "e"
                  },
                  "dsType": "influxdb",
                  "editorMode": "code",
                  "exemplar": true,
                  "expr": "rate(kafka_producer_topic_record_send_total{namespace=\"$namespace\" ,cluster=\"$cluster\",client_id=~\"$client_id\",topic=~\"$topic\"}[5m])",
                  "groupBy": [
                    {
                      "params": [
                        "$inter"
                      ],
                      "type": "time"
                    },
                    {
                      "params": [
                        "connectorName"
                      ],
                      "type": "tag"
                    },
                    {
                      "params": [
                        "topicName"
                      ],
                      "type": "tag"
                    }
                  ],
                  "interval": "",
                  "legendFormat": "client_id={{ `{{` }}client_id{{ `}}` }}, topic={{ `{{` }}topic{{ `}}` }}, pod={{ `{{` }}pod{{ `}}` }}",
                  "measurement": "streaming-platform-topics-source-connectors",
                  "orderByTime": "ASC",
                  "policy": "default",
                  "query": "SELECT min(\"totalHandledCount\") FROM \"streaming-platform-topics-source-connectors\" WHERE \"project_name\" =~ /^$project$/ AND $timeFilter GROUP BY time($inter), \"connectorName\", \"topicName\"",
                  "range": true,
                  "rawQuery": true,
                  "refId": "A",
                  "resultFormat": "time_series",
                  "select": [
                    [
                      {
                        "params": [
                          "totalHandledCount"
                        ],
                        "type": "field"
                      },
                      {
                        "params": [],
                        "type": "min"
                      }
                    ]
                  ],
                  "tags": []
                }
              ],
              "title": "Producer Records Rate",
              "type": "timeseries"
            },
            {
              "datasource": {
                "type": "prometheus",
                "uid": "$datasource"
              },
              "description": "The rate of bytes that successfully processed by Producer and written to Kafka topics.",
              "fieldConfig": {
                "defaults": {
                  "color": {
                    "mode": "palette-classic"
                  },
                  "custom": {
                    "axisBorderShow": false,
                    "axisCenteredZero": false,
                    "axisColorMode": "text",
                    "axisLabel": "",
                    "axisPlacement": "auto",
                    "barAlignment": 0,
                    "drawStyle": "line",
                    "fillOpacity": 20,
                    "gradientMode": "none",
                    "hideFrom": {
                      "legend": false,
                      "tooltip": false,
                      "viz": false
                    },
                    "insertNulls": false,
                    "lineInterpolation": "linear",
                    "lineWidth": 2,
                    "pointSize": 5,
                    "scaleDistribution": {
                      "type": "linear"
                    },
                    "showPoints": "never",
                    "spanNulls": false,
                    "stacking": {
                      "group": "A",
                      "mode": "none"
                    },
                    "thresholdsStyle": {
                      "mode": "off"
                    }
                  },
                  "decimals": 0,
                  "mappings": [],
                  "min": 0,
                  "thresholds": {
                    "mode": "absolute",
                    "steps": [
                      {
                        "color": "green",
                        "value": null
                      },
                      {
                        "color": "red",
                        "value": 80
                      }
                    ]
                  },
                  "unit": "binBps"
                },
                "overrides": []
              },
              "gridPos": {
                "h": 9,
                "w": 8,
                "x": 8,
                "y": 3
              },
              "id": 12,
              "interval": "$inter",
              "options": {
                "legend": {
                  "calcs": [
                    "mean",
                    "max"
                  ],
                  "displayMode": "table",
                  "placement": "bottom",
                  "showLegend": true,
                  "width": 300
                },
                "tooltip": {
                  "mode": "multi",
                  "sort": "none"
                }
              },
              "pluginVersion": "9.5.2",
              "targets": [
                {
                  "alias": "connector: $tag_connectorName topic: $tag_topicName",
                  "datasource": {
                    "0": "$",
                    "1": "d",
                    "2": "a",
                    "3": "t",
                    "4": "a",
                    "5": "s",
                    "6": "o",
                    "7": "u",
                    "8": "r",
                    "9": "c",
                    "10": "e"
                  },
                  "dsType": "influxdb",
                  "editorMode": "code",
                  "exemplar": true,
                  "expr": "rate(kafka_producer_topic_byte_total{namespace=\"$namespace\" ,cluster=\"$cluster\",client_id=~\"$client_id\",topic=~\"$topic\"}[5m]) ",
                  "groupBy": [
                    {
                      "params": [
                        "$inter"
                      ],
                      "type": "time"
                    },
                    {
                      "params": [
                        "connectorName"
                      ],
                      "type": "tag"
                    },
                    {
                      "params": [
                        "topicName"
                      ],
                      "type": "tag"
                    }
                  ],
                  "interval": "",
                  "legendFormat": "client_id={{ `{{` }}client_id{{ `}}` }}, topic={{ `{{` }}topic{{ `}}` }}, pod={{ `{{` }}pod{{ `}}` }}",
                  "measurement": "streaming-platform-topics-source-connectors",
                  "orderByTime": "ASC",
                  "policy": "default",
                  "query": "SELECT min(\"totalHandledCount\") FROM \"streaming-platform-topics-source-connectors\" WHERE \"project_name\" =~ /^$project$/ AND $timeFilter GROUP BY time($inter), \"connectorName\", \"topicName\"",
                  "range": true,
                  "rawQuery": true,
                  "refId": "A",
                  "resultFormat": "time_series",
                  "select": [
                    [
                      {
                        "params": [
                          "totalHandledCount"
                        ],
                        "type": "field"
                      },
                      {
                        "params": [],
                        "type": "min"
                      }
                    ]
                  ],
                  "tags": []
                }
              ],
              "title": "Producer Records Bytes Rate",
              "type": "timeseries"
            },
            {
              "datasource": {
                "type": "prometheus",
                "uid": "$datasource"
              },
              "description": "Average number of requests sent per second.",
              "fieldConfig": {
                "defaults": {
                  "color": {
                    "mode": "palette-classic"
                  },
                  "custom": {
                    "axisBorderShow": false,
                    "axisCenteredZero": false,
                    "axisColorMode": "text",
                    "axisLabel": "",
                    "axisPlacement": "auto",
                    "barAlignment": 0,
                    "drawStyle": "line",
                    "fillOpacity": 20,
                    "gradientMode": "none",
                    "hideFrom": {
                      "legend": false,
                      "tooltip": false,
                      "viz": false
                    },
                    "insertNulls": false,
                    "lineInterpolation": "linear",
                    "lineWidth": 2,
                    "pointSize": 5,
                    "scaleDistribution": {
                      "type": "linear"
                    },
                    "showPoints": "never",
                    "spanNulls": false,
                    "stacking": {
                      "group": "A",
                      "mode": "none"
                    },
                    "thresholdsStyle": {
                      "mode": "off"
                    }
                  },
                  "decimals": 0,
                  "mappings": [],
                  "min": 0,
                  "thresholds": {
                    "mode": "absolute",
                    "steps": [
                      {
                        "color": "green",
                        "value": null
                      },
                      {
                        "color": "red",
                        "value": 80
                      }
                    ]
                  },
                  "unit": "cps"
                },
                "overrides": []
              },
              "gridPos": {
                "h": 9,
                "w": 8,
                "x": 16,
                "y": 3
              },
              "id": 97,
              "interval": "$inter",
              "options": {
                "legend": {
                  "calcs": [
                    "mean",
                    "max"
                  ],
                  "displayMode": "table",
                  "placement": "bottom",
                  "showLegend": true,
                  "width": 300
                },
                "tooltip": {
                  "mode": "multi",
                  "sort": "none"
                }
              },
              "pluginVersion": "9.5.2",
              "targets": [
                {
                  "alias": "connector: $tag_connectorName topic: $tag_topicName",
                  "datasource": {
                    "0": "$",
                    "1": "d",
                    "2": "a",
                    "3": "t",
                    "4": "a",
                    "5": "s",
                    "6": "o",
                    "7": "u",
                    "8": "r",
                    "9": "c",
                    "10": "e"
                  },
                  "dsType": "influxdb",
                  "editorMode": "code",
                  "exemplar": true,
                  "expr": "rate(kafka_producer_request_total{namespace=\"$namespace\",cluster=\"$cluster\",client_id=~\"$client_id\"}[5m])",
                  "groupBy": [
                    {
                      "params": [
                        "$inter"
                      ],
                      "type": "time"
                    },
                    {
                      "params": [
                        "connectorName"
                      ],
                      "type": "tag"
                    },
                    {
                      "params": [
                        "topicName"
                      ],
                      "type": "tag"
                    }
                  ],
                  "interval": "",
                  "legendFormat": "client_id={{ `{{` }}client_id{{ `}}` }}, pod={{ `{{` }}pod{{ `}}` }}",
                  "measurement": "streaming-platform-topics-source-connectors",
                  "orderByTime": "ASC",
                  "policy": "default",
                  "query": "SELECT min(\"totalHandledCount\") FROM \"streaming-platform-topics-source-connectors\" WHERE \"project_name\" =~ /^$project$/ AND $timeFilter GROUP BY time($inter), \"connectorName\", \"topicName\"",
                  "range": true,
                  "rawQuery": true,
                  "refId": "A",
                  "resultFormat": "time_series",
                  "select": [
                    [
                      {
                        "params": [
                          "totalHandledCount"
                        ],
                        "type": "field"
                      },
                      {
                        "params": [],
                        "type": "min"
                      }
                    ]
                  ],
                  "tags": []
                }
              ],
              "title": "Producer Request Rate",
              "type": "timeseries"
            },
            {
              "datasource": {
                "type": "prometheus",
                "uid": "$datasource"
              },
              "description": "The number of errors during producing.",
              "fieldConfig": {
                "defaults": {
                  "color": {
                    "mode": "palette-classic"
                  },
                  "custom": {
                    "axisBorderShow": false,
                    "axisCenteredZero": false,
                    "axisColorMode": "text",
                    "axisLabel": "",
                    "axisPlacement": "auto",
                    "barAlignment": 0,
                    "drawStyle": "line",
                    "fillOpacity": 20,
                    "gradientMode": "none",
                    "hideFrom": {
                      "legend": false,
                      "tooltip": false,
                      "viz": false
                    },
                    "insertNulls": false,
                    "lineInterpolation": "linear",
                    "lineWidth": 2,
                    "pointSize": 5,
                    "scaleDistribution": {
                      "type": "linear"
                    },
                    "showPoints": "never",
                    "spanNulls": false,
                    "stacking": {
                      "group": "A",
                      "mode": "none"
                    },
                    "thresholdsStyle": {
                      "mode": "off"
                    }
                  },
                  "decimals": 0,
                  "mappings": [],
                  "min": 0,
                  "thresholds": {
                    "mode": "absolute",
                    "steps": [
                      {
                        "color": "green",
                        "value": null
                      },
                      {
                        "color": "red",
                        "value": 80
                      }
                    ]
                  },
                  "unit": "short"
                },
                "overrides": []
              },
              "gridPos": {
                "h": 9,
                "w": 8,
                "x": 0,
                "y": 12
              },
              "id": 69,
              "interval": "$inter",
              "options": {
                "legend": {
                  "calcs": [
                    "max"
                  ],
                  "displayMode": "table",
                  "placement": "bottom",
                  "showLegend": true,
                  "width": 300
                },
                "tooltip": {
                  "mode": "multi",
                  "sort": "none"
                }
              },
              "pluginVersion": "9.5.2",
              "targets": [
                {
                  "alias": "connector: $tag_connectorName topic: $tag_topicName",
                  "datasource": {
                    "0": "$",
                    "1": "d",
                    "2": "a",
                    "3": "t",
                    "4": "a",
                    "5": "s",
                    "6": "o",
                    "7": "u",
                    "8": "r",
                    "9": "c",
                    "10": "e"
                  },
                  "dsType": "influxdb",
                  "editorMode": "code",
                  "exemplar": true,
                  "expr": "max(kafka_producer_record_error_total{namespace=\"$namespace\",cluster=\"$cluster\",client_id=~\"$client_id\"}) by (client_id)",
                  "groupBy": [
                    {
                      "params": [
                        "$inter"
                      ],
                      "type": "time"
                    },
                    {
                      "params": [
                        "connectorName"
                      ],
                      "type": "tag"
                    },
                    {
                      "params": [
                        "topicName"
                      ],
                      "type": "tag"
                    }
                  ],
                  "interval": "",
                  "legendFormat": "client_id={{ `{{` }}client_id{{ `}}` }}",
                  "measurement": "streaming-platform-topics-source-connectors",
                  "orderByTime": "ASC",
                  "policy": "default",
                  "query": "SELECT min(\"totalHandledCount\") FROM \"streaming-platform-topics-source-connectors\" WHERE \"project_name\" =~ /^$project$/ AND $timeFilter GROUP BY time($inter), \"connectorName\", \"topicName\"",
                  "range": true,
                  "rawQuery": true,
                  "refId": "A",
                  "resultFormat": "time_series",
                  "select": [
                    [
                      {
                        "params": [
                          "totalHandledCount"
                        ],
                        "type": "field"
                      },
                      {
                        "params": [],
                        "type": "min"
                      }
                    ]
                  ],
                  "tags": []
                }
              ],
              "title": "Producer Errors Count",
              "type": "timeseries"
            },
            {
              "datasource": {
                "type": "prometheus",
                "uid": "$datasource"
              },
              "description": "The average time in milliseconds record batches spent in the send buffer.",
              "fieldConfig": {
                "defaults": {
                  "color": {
                    "mode": "palette-classic"
                  },
                  "custom": {
                    "axisBorderShow": false,
                    "axisCenteredZero": false,
                    "axisColorMode": "text",
                    "axisLabel": "",
                    "axisPlacement": "auto",
                    "barAlignment": 0,
                    "drawStyle": "line",
                    "fillOpacity": 20,
                    "gradientMode": "none",
                    "hideFrom": {
                      "legend": false,
                      "tooltip": false,
                      "viz": false
                    },
                    "insertNulls": false,
                    "lineInterpolation": "linear",
                    "lineWidth": 2,
                    "pointSize": 5,
                    "scaleDistribution": {
                      "type": "linear"
                    },
                    "showPoints": "never",
                    "spanNulls": false,
                    "stacking": {
                      "group": "A",
                      "mode": "none"
                    },
                    "thresholdsStyle": {
                      "mode": "off"
                    }
                  },
                  "decimals": 0,
                  "mappings": [],
                  "min": 0,
                  "thresholds": {
                    "mode": "absolute",
                    "steps": [
                      {
                        "color": "green",
                        "value": null
                      },
                      {
                        "color": "red",
                        "value": 80
                      }
                    ]
                  },
                  "unit": "ms"
                },
                "overrides": []
              },
              "gridPos": {
                "h": 9,
                "w": 8,
                "x": 8,
                "y": 12
              },
              "id": 24,
              "interval": "$inter",
              "options": {
                "legend": {
                  "calcs": [
                    "max"
                  ],
                  "displayMode": "table",
                  "placement": "bottom",
                  "showLegend": true,
                  "width": 300
                },
                "tooltip": {
                  "mode": "multi",
                  "sort": "none"
                }
              },
              "pluginVersion": "9.5.2",
              "targets": [
                {
                  "alias": "connector: $tag_connectorName topic: $tag_topicName",
                  "datasource": {
                    "0": "$",
                    "1": "d",
                    "2": "a",
                    "3": "t",
                    "4": "a",
                    "5": "s",
                    "6": "o",
                    "7": "u",
                    "8": "r",
                    "9": "c",
                    "10": "e"
                  },
                  "dsType": "influxdb",
                  "editorMode": "code",
                  "expr": "max(kafka_producer_record_queue_time_avg{namespace=\"$namespace\",cluster=\"$cluster\",client_id=~\"$client_id\",pod=~\"$pod\"}) by (client_id, pod)",
                  "groupBy": [
                    {
                      "params": [
                        "$inter"
                      ],
                      "type": "time"
                    },
                    {
                      "params": [
                        "connectorName"
                      ],
                      "type": "tag"
                    },
                    {
                      "params": [
                        "topicName"
                      ],
                      "type": "tag"
                    }
                  ],
                  "interval": "",
                  "legendFormat": "client_id={{ `{{` }}client_id{{ `}}` }}, pod={{ `{{` }}pod{{ `}}` }} ",
                  "measurement": "streaming-platform-topics-source-connectors",
                  "orderByTime": "ASC",
                  "policy": "default",
                  "query": "SELECT min(\"totalHandledCount\") FROM \"streaming-platform-topics-source-connectors\" WHERE \"project_name\" =~ /^$project$/ AND $timeFilter GROUP BY time($inter), \"connectorName\", \"topicName\"",
                  "range": true,
                  "rawQuery": true,
                  "refId": "A",
                  "resultFormat": "time_series",
                  "select": [
                    [
                      {
                        "params": [
                          "totalHandledCount"
                        ],
                        "type": "field"
                      },
                      {
                        "params": [],
                        "type": "min"
                      }
                    ]
                  ],
                  "tags": []
                }
              ],
              "title": "Average Producer Record Queue Time",
              "type": "timeseries"
            },
            {
              "datasource": {
                "type": "prometheus",
                "uid": "$datasource"
              },
              "description": "Average request latency (in ms).",
              "fieldConfig": {
                "defaults": {
                  "color": {
                    "mode": "palette-classic"
                  },
                  "custom": {
                    "axisBorderShow": false,
                    "axisCenteredZero": false,
                    "axisColorMode": "text",
                    "axisLabel": "",
                    "axisPlacement": "auto",
                    "barAlignment": 0,
                    "drawStyle": "line",
                    "fillOpacity": 20,
                    "gradientMode": "none",
                    "hideFrom": {
                      "legend": false,
                      "tooltip": false,
                      "viz": false
                    },
                    "insertNulls": false,
                    "lineInterpolation": "linear",
                    "lineWidth": 2,
                    "pointSize": 5,
                    "scaleDistribution": {
                      "type": "linear"
                    },
                    "showPoints": "never",
                    "spanNulls": false,
                    "stacking": {
                      "group": "A",
                      "mode": "none"
                    },
                    "thresholdsStyle": {
                      "mode": "off"
                    }
                  },
                  "decimals": 0,
                  "mappings": [],
                  "min": 0,
                  "thresholds": {
                    "mode": "absolute",
                    "steps": [
                      {
                        "color": "green",
                        "value": null
                      },
                      {
                        "color": "red",
                        "value": 80
                      }
                    ]
                  },
                  "unit": "ms"
                },
                "overrides": []
              },
              "gridPos": {
                "h": 9,
                "w": 8,
                "x": 16,
                "y": 12
              },
              "id": 78,
              "interval": "$inter",
              "options": {
                "legend": {
                  "calcs": [
                    "max"
                  ],
                  "displayMode": "table",
                  "placement": "bottom",
                  "showLegend": true,
                  "width": 300
                },
                "tooltip": {
                  "mode": "multi",
                  "sort": "none"
                }
              },
              "pluginVersion": "9.5.2",
              "targets": [
                {
                  "alias": "connector: $tag_connectorName topic: $tag_topicName",
                  "datasource": {
                    "0": "$",
                    "1": "d",
                    "2": "a",
                    "3": "t",
                    "4": "a",
                    "5": "s",
                    "6": "o",
                    "7": "u",
                    "8": "r",
                    "9": "c",
                    "10": "e"
                  },
                  "dsType": "influxdb",
                  "editorMode": "code",
                  "exemplar": true,
                  "expr": "max(kafka_producer_request_latency_avg{namespace=\"$namespace\" ,cluster=\"$cluster\",client_id=~\"$client_id\"}) by (client_id, pod)",
                  "groupBy": [
                    {
                      "params": [
                        "$inter"
                      ],
                      "type": "time"
                    },
                    {
                      "params": [
                        "connectorName"
                      ],
                      "type": "tag"
                    },
                    {
                      "params": [
                        "topicName"
                      ],
                      "type": "tag"
                    }
                  ],
                  "interval": "",
                  "legendFormat": "client_id={{ `{{` }}client_id{{ `}}` }}, pod={{ `{{` }}pod{{ `}}` }}",
                  "measurement": "streaming-platform-topics-source-connectors",
                  "orderByTime": "ASC",
                  "policy": "default",
                  "query": "SELECT min(\"totalHandledCount\") FROM \"streaming-platform-topics-source-connectors\" WHERE \"project_name\" =~ /^$project$/ AND $timeFilter GROUP BY time($inter), \"connectorName\", \"topicName\"",
                  "range": true,
                  "rawQuery": true,
                  "refId": "A",
                  "resultFormat": "time_series",
                  "select": [
                    [
                      {
                        "params": [
                          "totalHandledCount"
                        ],
                        "type": "field"
                      },
                      {
                        "params": [],
                        "type": "min"
                      }
                    ]
                  ],
                  "tags": []
                }
              ],
              "title": "Average Producer Request Latency",
              "type": "timeseries"
            },
            {
              "datasource": {
                "type": "prometheus",
                "uid": "$datasource"
              },
              "description": "The rate of errors during producing.",
              "fieldConfig": {
                "defaults": {
                  "color": {
                    "mode": "palette-classic"
                  },
                  "custom": {
                    "axisBorderShow": false,
                    "axisCenteredZero": false,
                    "axisColorMode": "text",
                    "axisLabel": "",
                    "axisPlacement": "auto",
                    "barAlignment": 0,
                    "drawStyle": "line",
                    "fillOpacity": 20,
                    "gradientMode": "none",
                    "hideFrom": {
                      "legend": false,
                      "tooltip": false,
                      "viz": false
                    },
                    "insertNulls": false,
                    "lineInterpolation": "linear",
                    "lineWidth": 2,
                    "pointSize": 5,
                    "scaleDistribution": {
                      "type": "linear"
                    },
                    "showPoints": "never",
                    "spanNulls": false,
                    "stacking": {
                      "group": "A",
                      "mode": "none"
                    },
                    "thresholdsStyle": {
                      "mode": "off"
                    }
                  },
                  "decimals": 0,
                  "mappings": [],
                  "min": 0,
                  "thresholds": {
                    "mode": "absolute",
                    "steps": [
                      {
                        "color": "green",
                        "value": null
                      },
                      {
                        "color": "red",
                        "value": 80
                      }
                    ]
                  },
                  "unit": "cps"
                },
                "overrides": []
              },
              "gridPos": {
                "h": 9,
                "w": 8,
                "x": 0,
                "y": 21
              },
              "id": 70,
              "interval": "$inter",
              "options": {
                "legend": {
                  "calcs": [
                    "mean",
                    "max"
                  ],
                  "displayMode": "table",
                  "placement": "bottom",
                  "showLegend": true,
                  "width": 300
                },
                "tooltip": {
                  "mode": "multi",
                  "sort": "none"
                }
              },
              "pluginVersion": "9.5.2",
              "targets": [
                {
                  "alias": "connector: $tag_connectorName topic: $tag_topicName",
                  "datasource": {
                    "0": "$",
                    "1": "d",
                    "2": "a",
                    "3": "t",
                    "4": "a",
                    "5": "s",
                    "6": "o",
                    "7": "u",
                    "8": "r",
                    "9": "c",
                    "10": "e"
                  },
                  "dsType": "influxdb",
                  "editorMode": "code",
                  "exemplar": true,
                  "expr": "rate(kafka_producer_record_error_total{namespace=\"$namespace\",cluster=\"$cluster\",client_id=~\"$client_id\",pod=~\"$pod\"}[5m])",
                  "groupBy": [
                    {
                      "params": [
                        "$inter"
                      ],
                      "type": "time"
                    },
                    {
                      "params": [
                        "connectorName"
                      ],
                      "type": "tag"
                    },
                    {
                      "params": [
                        "topicName"
                      ],
                      "type": "tag"
                    }
                  ],
                  "interval": "",
                  "legendFormat": "client_id={{ `{{` }}client_id{{ `}}` }}, pod={{ `{{` }}pod{{ `}}` }}",
                  "measurement": "streaming-platform-topics-source-connectors",
                  "orderByTime": "ASC",
                  "policy": "default",
                  "query": "SELECT min(\"totalHandledCount\") FROM \"streaming-platform-topics-source-connectors\" WHERE \"project_name\" =~ /^$project$/ AND $timeFilter GROUP BY time($inter), \"connectorName\", \"topicName\"",
                  "range": true,
                  "rawQuery": true,
                  "refId": "A",
                  "resultFormat": "time_series",
                  "select": [
                    [
                      {
                        "params": [
                          "totalHandledCount"
                        ],
                        "type": "field"
                      },
                      {
                        "params": [],
                        "type": "min"
                      }
                    ]
                  ],
                  "tags": []
                }
              ],
              "title": "Producer Errors Rate",
              "type": "timeseries"
            },
            {
              "datasource": {
                "type": "prometheus",
                "uid": "$datasource"
              },
              "description": "The average record size.",
              "fieldConfig": {
                "defaults": {
                  "color": {
                    "mode": "palette-classic"
                  },
                  "custom": {
                    "axisBorderShow": false,
                    "axisCenteredZero": false,
                    "axisColorMode": "text",
                    "axisLabel": "",
                    "axisPlacement": "auto",
                    "barAlignment": 0,
                    "drawStyle": "line",
                    "fillOpacity": 20,
                    "gradientMode": "none",
                    "hideFrom": {
                      "legend": false,
                      "tooltip": false,
                      "viz": false
                    },
                    "insertNulls": false,
                    "lineInterpolation": "linear",
                    "lineWidth": 2,
                    "pointSize": 5,
                    "scaleDistribution": {
                      "type": "linear"
                    },
                    "showPoints": "never",
                    "spanNulls": false,
                    "stacking": {
                      "group": "A",
                      "mode": "none"
                    },
                    "thresholdsStyle": {
                      "mode": "off"
                    }
                  },
                  "decimals": 0,
                  "mappings": [],
                  "min": 0,
                  "thresholds": {
                    "mode": "absolute",
                    "steps": [
                      {
                        "color": "green",
                        "value": null
                      },
                      {
                        "color": "red",
                        "value": 80
                      }
                    ]
                  },
                  "unit": "bytes"
                },
                "overrides": []
              },
              "gridPos": {
                "h": 9,
                "w": 8,
                "x": 8,
                "y": 21
              },
              "id": 71,
              "interval": "$inter",
              "options": {
                "legend": {
                  "calcs": [
                    "max"
                  ],
                  "displayMode": "table",
                  "placement": "bottom",
                  "showLegend": true,
                  "width": 300
                },
                "tooltip": {
                  "mode": "multi",
                  "sort": "none"
                }
              },
              "pluginVersion": "9.5.2",
              "targets": [
                {
                  "alias": "connector: $tag_connectorName topic: $tag_topicName",
                  "datasource": {
                    "0": "$",
                    "1": "d",
                    "2": "a",
                    "3": "t",
                    "4": "a",
                    "5": "s",
                    "6": "o",
                    "7": "u",
                    "8": "r",
                    "9": "c",
                    "10": "e"
                  },
                  "dsType": "influxdb",
                  "editorMode": "code",
                  "exemplar": true,
                  "expr": "max(kafka_producer_record_size_avg{namespace=\"$namespace\",cluster=\"$cluster\",client_id=~\"$client_id\",pod=~\"$pod\"}) by (client_id, pod)",
                  "groupBy": [
                    {
                      "params": [
                        "$inter"
                      ],
                      "type": "time"
                    },
                    {
                      "params": [
                        "connectorName"
                      ],
                      "type": "tag"
                    },
                    {
                      "params": [
                        "topicName"
                      ],
                      "type": "tag"
                    }
                  ],
                  "interval": "",
                  "legendFormat": "client_id={{ `{{` }}client_id{{ `}}` }}, pod={{ `{{` }}pod{{ `}}` }}",
                  "measurement": "streaming-platform-topics-source-connectors",
                  "orderByTime": "ASC",
                  "policy": "default",
                  "query": "SELECT min(\"totalHandledCount\") FROM \"streaming-platform-topics-source-connectors\" WHERE \"project_name\" =~ /^$project$/ AND $timeFilter GROUP BY time($inter), \"connectorName\", \"topicName\"",
                  "range": true,
                  "rawQuery": true,
                  "refId": "A",
                  "resultFormat": "time_series",
                  "select": [
                    [
                      {
                        "params": [
                          "totalHandledCount"
                        ],
                        "type": "field"
                      },
                      {
                        "params": [],
                        "type": "min"
                      }
                    ]
                  ],
                  "tags": []
                }
              ],
              "title": "Average Records Size",
              "type": "timeseries"
            },
            {
              "datasource": {
                "type": "prometheus",
                "uid": "$datasource"
              },
              "description": "Number of responses received.",
              "fieldConfig": {
                "defaults": {
                  "color": {
                    "mode": "palette-classic"
                  },
                  "custom": {
                    "axisBorderShow": false,
                    "axisCenteredZero": false,
                    "axisColorMode": "text",
                    "axisLabel": "",
                    "axisPlacement": "auto",
                    "barAlignment": 0,
                    "drawStyle": "line",
                    "fillOpacity": 20,
                    "gradientMode": "none",
                    "hideFrom": {
                      "legend": false,
                      "tooltip": false,
                      "viz": false
                    },
                    "insertNulls": false,
                    "lineInterpolation": "linear",
                    "lineWidth": 2,
                    "pointSize": 5,
                    "scaleDistribution": {
                      "type": "linear"
                    },
                    "showPoints": "never",
                    "spanNulls": false,
                    "stacking": {
                      "group": "A",
                      "mode": "none"
                    },
                    "thresholdsStyle": {
                      "mode": "off"
                    }
                  },
                  "decimals": 0,
                  "mappings": [],
                  "min": 0,
                  "thresholds": {
                    "mode": "absolute",
                    "steps": [
                      {
                        "color": "green",
                        "value": null
                      },
                      {
                        "color": "red",
                        "value": 80
                      }
                    ]
                  },
                  "unit": "short"
                },
                "overrides": []
              },
              "gridPos": {
                "h": 9,
                "w": 8,
                "x": 16,
                "y": 21
              },
              "id": 100,
              "interval": "$inter",
              "options": {
                "legend": {
                  "calcs": [
                    "mean",
                    "max"
                  ],
                  "displayMode": "table",
                  "placement": "bottom",
                  "showLegend": true,
                  "width": 300
                },
                "tooltip": {
                  "mode": "multi",
                  "sort": "none"
                }
              },
              "pluginVersion": "9.5.2",
              "targets": [
                {
                  "alias": "connector: $tag_connectorName topic: $tag_topicName",
                  "datasource": {
                    "0": "$",
                    "1": "d",
                    "2": "a",
                    "3": "t",
                    "4": "a",
                    "5": "s",
                    "6": "o",
                    "7": "u",
                    "8": "r",
                    "9": "c",
                    "10": "e"
                  },
                  "dsType": "influxdb",
                  "editorMode": "code",
                  "exemplar": true,
                  "expr": "rate(kafka_producer_response_total{namespace=\"$namespace\" ,cluster=\"$cluster\",client_id=~\"$client_id\",pod=~\"$pod\"}[5m])",
                  "groupBy": [
                    {
                      "params": [
                        "$inter"
                      ],
                      "type": "time"
                    },
                    {
                      "params": [
                        "connectorName"
                      ],
                      "type": "tag"
                    },
                    {
                      "params": [
                        "topicName"
                      ],
                      "type": "tag"
                    }
                  ],
                  "interval": "",
                  "legendFormat": "client_id={{ `{{` }}client_id{{ `}}` }},pod={{ `{{` }}pod{{ `}}` }}",
                  "measurement": "streaming-platform-topics-source-connectors",
                  "orderByTime": "ASC",
                  "policy": "default",
                  "query": "SELECT min(\"totalHandledCount\") FROM \"streaming-platform-topics-source-connectors\" WHERE \"project_name\" =~ /^$project$/ AND $timeFilter GROUP BY time($inter), \"connectorName\", \"topicName\"",
                  "range": true,
                  "rawQuery": true,
                  "refId": "A",
                  "resultFormat": "time_series",
                  "select": [
                    [
                      {
                        "params": [
                          "totalHandledCount"
                        ],
                        "type": "field"
                      },
                      {
                        "params": [],
                        "type": "min"
                      }
                    ]
                  ],
                  "tags": []
                }
              ],
              "title": "Producer Response Count",
              "type": "timeseries"
            },
            {
              "datasource": {
                "type": "prometheus",
                "uid": "$datasource"
              },
              "description": "The number of errors during producing by topics.",
              "fieldConfig": {
                "defaults": {
                  "color": {
                    "mode": "palette-classic"
                  },
                  "custom": {
                    "axisBorderShow": false,
                    "axisCenteredZero": false,
                    "axisColorMode": "text",
                    "axisLabel": "",
                    "axisPlacement": "auto",
                    "barAlignment": 0,
                    "drawStyle": "line",
                    "fillOpacity": 20,
                    "gradientMode": "none",
                    "hideFrom": {
                      "legend": false,
                      "tooltip": false,
                      "viz": false
                    },
                    "insertNulls": false,
                    "lineInterpolation": "linear",
                    "lineWidth": 2,
                    "pointSize": 5,
                    "scaleDistribution": {
                      "type": "linear"
                    },
                    "showPoints": "never",
                    "spanNulls": false,
                    "stacking": {
                      "group": "A",
                      "mode": "none"
                    },
                    "thresholdsStyle": {
                      "mode": "off"
                    }
                  },
                  "decimals": 0,
                  "mappings": [],
                  "min": 0,
                  "thresholds": {
                    "mode": "absolute",
                    "steps": [
                      {
                        "color": "green",
                        "value": null
                      },
                      {
                        "color": "red",
                        "value": 80
                      }
                    ]
                  },
                  "unit": "short"
                },
                "overrides": [
                  {
                    "matcher": {
                      "id": "byRegexp",
                      "options": "/.*/"
                    },
                    "properties": [
                      {
                        "id": "color",
                        "value": {
                          "fixedColor": "#C4162A",
                          "mode": "fixed"
                        }
                      }
                    ]
                  }
                ]
              },
              "gridPos": {
                "h": 9,
                "w": 8,
                "x": 0,
                "y": 30
              },
              "id": 26,
              "interval": "$inter",
              "options": {
                "legend": {
                  "calcs": [
                    "max"
                  ],
                  "displayMode": "table",
                  "placement": "bottom",
                  "showLegend": true,
                  "width": 300
                },
                "tooltip": {
                  "mode": "multi",
                  "sort": "none"
                }
              },
              "pluginVersion": "9.5.2",
              "targets": [
                {
                  "alias": "connector: $tag_connectorName topic: $tag_topicName",
                  "datasource": {
                    "0": "$",
                    "1": "d",
                    "2": "a",
                    "3": "t",
                    "4": "a",
                    "5": "s",
                    "6": "o",
                    "7": "u",
                    "8": "r",
                    "9": "c",
                    "10": "e"
                  },
                  "dsType": "influxdb",
                  "editorMode": "code",
                  "exemplar": true,
                  "expr": "max(kafka_producer_topic_record_error_total{namespace=\"$namespace\" ,cluster=\"$cluster\",client_id=~\"$client_id\",topic=~\"$topic\",pod=~\"$pod\"}) by (client_id, topic, pod)",
                  "groupBy": [
                    {
                      "params": [
                        "$inter"
                      ],
                      "type": "time"
                    },
                    {
                      "params": [
                        "connectorName"
                      ],
                      "type": "tag"
                    },
                    {
                      "params": [
                        "topicName"
                      ],
                      "type": "tag"
                    }
                  ],
                  "interval": "",
                  "legendFormat": "client_id={{ `{{` }}client_id{{ `}}` }}, topic={{ `{{` }}topic{{ `}}` }}, pod={{ `{{` }}pod{{ `}}` }}",
                  "measurement": "streaming-platform-topics-source-connectors",
                  "orderByTime": "ASC",
                  "policy": "default",
                  "query": "SELECT min(\"totalHandledCount\") FROM \"streaming-platform-topics-source-connectors\" WHERE \"project_name\" =~ /^$project$/ AND $timeFilter GROUP BY time($inter), \"connectorName\", \"topicName\"",
                  "range": true,
                  "rawQuery": true,
                  "refId": "A",
                  "resultFormat": "time_series",
                  "select": [
                    [
                      {
                        "params": [
                          "totalHandledCount"
                        ],
                        "type": "field"
                      },
                      {
                        "params": [],
                        "type": "min"
                      }
                    ]
                  ],
                  "tags": []
                }
              ],
              "title": "Topics Errors Count",
              "type": "timeseries"
            },
            {
              "datasource": {
                "type": "prometheus",
                "uid": "$datasource"
              },
              "description": "The average record batch size.",
              "fieldConfig": {
                "defaults": {
                  "color": {
                    "mode": "palette-classic"
                  },
                  "custom": {
                    "axisBorderShow": false,
                    "axisCenteredZero": false,
                    "axisColorMode": "text",
                    "axisLabel": "",
                    "axisPlacement": "auto",
                    "barAlignment": 0,
                    "drawStyle": "line",
                    "fillOpacity": 20,
                    "gradientMode": "none",
                    "hideFrom": {
                      "legend": false,
                      "tooltip": false,
                      "viz": false
                    },
                    "insertNulls": false,
                    "lineInterpolation": "linear",
                    "lineWidth": 2,
                    "pointSize": 5,
                    "scaleDistribution": {
                      "type": "linear"
                    },
                    "showPoints": "never",
                    "spanNulls": false,
                    "stacking": {
                      "group": "A",
                      "mode": "none"
                    },
                    "thresholdsStyle": {
                      "mode": "off"
                    }
                  },
                  "decimals": 0,
                  "mappings": [],
                  "min": 0,
                  "thresholds": {
                    "mode": "absolute",
                    "steps": [
                      {
                        "color": "green",
                        "value": null
                      },
                      {
                        "color": "red",
                        "value": 80
                      }
                    ]
                  },
                  "unit": "bytes"
                },
                "overrides": []
              },
              "gridPos": {
                "h": 9,
                "w": 8,
                "x": 8,
                "y": 30
              },
              "id": 72,
              "interval": "$inter",
              "options": {
                "legend": {
                  "calcs": [
                    "max"
                  ],
                  "displayMode": "table",
                  "placement": "bottom",
                  "showLegend": true,
                  "width": 300
                },
                "tooltip": {
                  "mode": "multi",
                  "sort": "none"
                }
              },
              "pluginVersion": "9.5.2",
              "targets": [
                {
                  "alias": "connector: $tag_connectorName topic: $tag_topicName",
                  "datasource": {
                    "0": "$",
                    "1": "d",
                    "2": "a",
                    "3": "t",
                    "4": "a",
                    "5": "s",
                    "6": "o",
                    "7": "u",
                    "8": "r",
                    "9": "c",
                    "10": "e"
                  },
                  "dsType": "influxdb",
                  "editorMode": "code",
                  "exemplar": true,
                  "expr": "max(kafka_producer_batch_size_avg{namespace=\"$namespace\",cluster=\"$cluster\",client_id=~\"$client_id\",pod=~\"$pod\"}) by (client_id, pod)",
                  "groupBy": [
                    {
                      "params": [
                        "$inter"
                      ],
                      "type": "time"
                    },
                    {
                      "params": [
                        "connectorName"
                      ],
                      "type": "tag"
                    },
                    {
                      "params": [
                        "topicName"
                      ],
                      "type": "tag"
                    }
                  ],
                  "interval": "",
                  "legendFormat": "client_id={{ `{{` }}client_id{{ `}}` }}, pod={{ `{{` }}pod{{ `}}` }}",
                  "measurement": "streaming-platform-topics-source-connectors",
                  "orderByTime": "ASC",
                  "policy": "default",
                  "query": "SELECT min(\"totalHandledCount\") FROM \"streaming-platform-topics-source-connectors\" WHERE \"project_name\" =~ /^$project$/ AND $timeFilter GROUP BY time($inter), \"connectorName\", \"topicName\"",
                  "range": true,
                  "rawQuery": true,
                  "refId": "A",
                  "resultFormat": "time_series",
                  "select": [
                    [
                      {
                        "params": [
                          "totalHandledCount"
                        ],
                        "type": "field"
                      },
                      {
                        "params": [],
                        "type": "min"
                      }
                    ]
                  ],
                  "tags": []
                }
              ],
              "title": "Average Records Batch Size",
              "type": "timeseries"
            },
            {
              "datasource": {
                "type": "prometheus",
                "uid": "$datasource"
              },
              "description": "Average number of responses received per second.",
              "fieldConfig": {
                "defaults": {
                  "color": {
                    "mode": "palette-classic"
                  },
                  "custom": {
                    "axisBorderShow": false,
                    "axisCenteredZero": false,
                    "axisColorMode": "text",
                    "axisLabel": "",
                    "axisPlacement": "auto",
                    "barAlignment": 0,
                    "drawStyle": "line",
                    "fillOpacity": 20,
                    "gradientMode": "none",
                    "hideFrom": {
                      "legend": false,
                      "tooltip": false,
                      "viz": false
                    },
                    "insertNulls": false,
                    "lineInterpolation": "linear",
                    "lineWidth": 2,
                    "pointSize": 5,
                    "scaleDistribution": {
                      "type": "linear"
                    },
                    "showPoints": "never",
                    "spanNulls": false,
                    "stacking": {
                      "group": "A",
                      "mode": "none"
                    },
                    "thresholdsStyle": {
                      "mode": "off"
                    }
                  },
                  "decimals": 0,
                  "mappings": [],
                  "min": 0,
                  "thresholds": {
                    "mode": "absolute",
                    "steps": [
                      {
                        "color": "green",
                        "value": null
                      },
                      {
                        "color": "red",
                        "value": 80
                      }
                    ]
                  },
                  "unit": "cps"
                },
                "overrides": []
              },
              "gridPos": {
                "h": 9,
                "w": 8,
                "x": 16,
                "y": 30
              },
              "id": 103,
              "interval": "$inter",
              "options": {
                "legend": {
                  "calcs": [
                    "mean",
                    "max"
                  ],
                  "displayMode": "table",
                  "placement": "bottom",
                  "showLegend": true,
                  "width": 300
                },
                "tooltip": {
                  "mode": "multi",
                  "sort": "none"
                }
              },
              "pluginVersion": "9.5.2",
              "targets": [
                {
                  "alias": "connector: $tag_connectorName topic: $tag_topicName",
                  "datasource": {
                    "0": "$",
                    "1": "d",
                    "2": "a",
                    "3": "t",
                    "4": "a",
                    "5": "s",
                    "6": "o",
                    "7": "u",
                    "8": "r",
                    "9": "c",
                    "10": "e"
                  },
                  "dsType": "influxdb",
                  "editorMode": "code",
                  "exemplar": true,
                  "expr": "rate(kafka_producer_response_total{namespace=\"$namespace\" ,cluster=\"$cluster\",client_id=~\"$client_id\",pod=~\"$pod\"}[5m])",
                  "groupBy": [
                    {
                      "params": [
                        "$inter"
                      ],
                      "type": "time"
                    },
                    {
                      "params": [
                        "connectorName"
                      ],
                      "type": "tag"
                    },
                    {
                      "params": [
                        "topicName"
                      ],
                      "type": "tag"
                    }
                  ],
                  "interval": "",
                  "legendFormat": "client_id={{ `{{` }}client_id{{ `}}` }},pod={{ `{{` }}pod{{ `}}` }}",
                  "measurement": "streaming-platform-topics-source-connectors",
                  "orderByTime": "ASC",
                  "policy": "default",
                  "query": "SELECT min(\"totalHandledCount\") FROM \"streaming-platform-topics-source-connectors\" WHERE \"project_name\" =~ /^$project$/ AND $timeFilter GROUP BY time($inter), \"connectorName\", \"topicName\"",
                  "range": true,
                  "rawQuery": true,
                  "refId": "A",
                  "resultFormat": "time_series",
                  "select": [
                    [
                      {
                        "params": [
                          "totalHandledCount"
                        ],
                        "type": "field"
                      },
                      {
                        "params": [],
                        "type": "min"
                      }
                    ]
                  ],
                  "tags": []
                }
              ],
              "title": "Producer Response Rate",
              "type": "timeseries"
            },
            {
              "datasource": {
                "type": "prometheus",
                "uid": "$datasource"
              },
              "description": "The number of threads in waiting state.",
              "fieldConfig": {
                "defaults": {
                  "color": {
                    "mode": "palette-classic"
                  },
                  "custom": {
                    "axisBorderShow": false,
                    "axisCenteredZero": false,
                    "axisColorMode": "text",
                    "axisLabel": "",
                    "axisPlacement": "auto",
                    "barAlignment": 0,
                    "drawStyle": "line",
                    "fillOpacity": 20,
                    "gradientMode": "none",
                    "hideFrom": {
                      "legend": false,
                      "tooltip": false,
                      "viz": false
                    },
                    "insertNulls": false,
                    "lineInterpolation": "linear",
                    "lineWidth": 2,
                    "pointSize": 5,
                    "scaleDistribution": {
                      "type": "linear"
                    },
                    "showPoints": "never",
                    "spanNulls": false,
                    "stacking": {
                      "group": "A",
                      "mode": "none"
                    },
                    "thresholdsStyle": {
                      "mode": "off"
                    }
                  },
                  "decimals": 0,
                  "mappings": [],
                  "min": 0,
                  "thresholds": {
                    "mode": "absolute",
                    "steps": [
                      {
                        "color": "green",
                        "value": null
                      },
                      {
                        "color": "red",
                        "value": 80
                      }
                    ]
                  },
                  "unit": "short"
                },
                "overrides": []
              },
              "gridPos": {
                "h": 9,
                "w": 8,
                "x": 0,
                "y": 39
              },
              "id": 73,
              "interval": "$inter",
              "options": {
                "legend": {
                  "calcs": [
                    "mean",
                    "max"
                  ],
                  "displayMode": "table",
                  "placement": "bottom",
                  "showLegend": true,
                  "width": 300
                },
                "tooltip": {
                  "mode": "multi",
                  "sort": "none"
                }
              },
              "pluginVersion": "9.5.2",
              "targets": [
                {
                  "alias": "connector: $tag_connectorName topic: $tag_topicName",
                  "datasource": {
                    "0": "$",
                    "1": "d",
                    "2": "a",
                    "3": "t",
                    "4": "a",
                    "5": "s",
                    "6": "o",
                    "7": "u",
                    "8": "r",
                    "9": "c",
                    "10": "e"
                  },
                  "dsType": "influxdb",
                  "editorMode": "code",
                  "exemplar": true,
                  "expr": "max(kafka_producer_waiting_threads{namespace=\"$namespace\",cluster=\"$cluster\",client_id=~\"$client_id\",pod=~\"$pod\"}) by (client_id, pod)",
                  "groupBy": [
                    {
                      "params": [
                        "$inter"
                      ],
                      "type": "time"
                    },
                    {
                      "params": [
                        "connectorName"
                      ],
                      "type": "tag"
                    },
                    {
                      "params": [
                        "topicName"
                      ],
                      "type": "tag"
                    }
                  ],
                  "interval": "",
                  "legendFormat": "client_id={{ `{{` }}client_id{{ `}}` }}, pod={{ `{{` }}pod{{ `}}` }}",
                  "measurement": "streaming-platform-topics-source-connectors",
                  "orderByTime": "ASC",
                  "policy": "default",
                  "query": "SELECT min(\"totalHandledCount\") FROM \"streaming-platform-topics-source-connectors\" WHERE \"project_name\" =~ /^$project$/ AND $timeFilter GROUP BY time($inter), \"connectorName\", \"topicName\"",
                  "range": true,
                  "rawQuery": true,
                  "refId": "A",
                  "resultFormat": "time_series",
                  "select": [
                    [
                      {
                        "params": [
                          "totalHandledCount"
                        ],
                        "type": "field"
                      },
                      {
                        "params": [],
                        "type": "min"
                      }
                    ]
                  ],
                  "tags": []
                }
              ],
              "title": "Waiting Threads",
              "type": "timeseries"
            },
            {
              "datasource": {
                "type": "prometheus",
                "uid": "$datasource"
              },
              "description": "Average length of time the I/O thread spent waiting for a socket (in ns).",
              "fieldConfig": {
                "defaults": {
                  "color": {
                    "mode": "palette-classic"
                  },
                  "custom": {
                    "axisBorderShow": false,
                    "axisCenteredZero": false,
                    "axisColorMode": "text",
                    "axisLabel": "",
                    "axisPlacement": "auto",
                    "barAlignment": 0,
                    "drawStyle": "line",
                    "fillOpacity": 20,
                    "gradientMode": "none",
                    "hideFrom": {
                      "legend": false,
                      "tooltip": false,
                      "viz": false
                    },
                    "insertNulls": false,
                    "lineInterpolation": "linear",
                    "lineWidth": 2,
                    "pointSize": 5,
                    "scaleDistribution": {
                      "type": "linear"
                    },
                    "showPoints": "never",
                    "spanNulls": false,
                    "stacking": {
                      "group": "A",
                      "mode": "none"
                    },
                    "thresholdsStyle": {
                      "mode": "off"
                    }
                  },
                  "decimals": 0,
                  "mappings": [],
                  "min": 0,
                  "thresholds": {
                    "mode": "absolute",
                    "steps": [
                      {
                        "color": "green",
                        "value": null
                      },
                      {
                        "color": "red",
                        "value": 80
                      }
                    ]
                  },
                  "unit": "ns"
                },
                "overrides": []
              },
              "gridPos": {
                "h": 9,
                "w": 8,
                "x": 8,
                "y": 39
              },
              "id": 75,
              "interval": "$inter",
              "options": {
                "legend": {
                  "calcs": [
                    "mean",
                    "max"
                  ],
                  "displayMode": "table",
                  "placement": "bottom",
                  "showLegend": true,
                  "width": 300
                },
                "tooltip": {
                  "mode": "multi",
                  "sort": "none"
                }
              },
              "pluginVersion": "9.5.2",
              "targets": [
                {
                  "alias": "connector: $tag_connectorName topic: $tag_topicName",
                  "datasource": {
                    "0": "$",
                    "1": "d",
                    "2": "a",
                    "3": "t",
                    "4": "a",
                    "5": "s",
                    "6": "o",
                    "7": "u",
                    "8": "r",
                    "9": "c",
                    "10": "e"
                  },
                  "dsType": "influxdb",
                  "editorMode": "code",
                  "exemplar": true,
                  "expr": "max(kafka_producer_io_wait_time_ns_avg{namespace=\"$namespace\",cluster=\"$cluster\",client_id=~\"$client_id\",pod=~\"$pod\"}) by (client_id, pod)",
                  "groupBy": [
                    {
                      "params": [
                        "$inter"
                      ],
                      "type": "time"
                    },
                    {
                      "params": [
                        "connectorName"
                      ],
                      "type": "tag"
                    },
                    {
                      "params": [
                        "topicName"
                      ],
                      "type": "tag"
                    }
                  ],
                  "interval": "",
                  "legendFormat": "client_id={{ `{{` }}client_id{{ `}}` }}, pod={{ `{{` }}pod{{ `}}` }}",
                  "measurement": "streaming-platform-topics-source-connectors",
                  "orderByTime": "ASC",
                  "policy": "default",
                  "query": "SELECT min(\"totalHandledCount\") FROM \"streaming-platform-topics-source-connectors\" WHERE \"project_name\" =~ /^$project$/ AND $timeFilter GROUP BY time($inter), \"connectorName\", \"topicName\"",
                  "range": true,
                  "rawQuery": true,
                  "refId": "A",
                  "resultFormat": "time_series",
                  "select": [
                    [
                      {
                        "params": [
                          "totalHandledCount"
                        ],
                        "type": "field"
                      },
                      {
                        "params": [],
                        "type": "min"
                      }
                    ]
                  ],
                  "tags": []
                }
              ],
              "title": "Average IO Wait Producer Time",
              "type": "timeseries"
            },
            {
              "datasource": {
                "type": "prometheus",
                "uid": "$datasource"
              },
              "description": "Average compression rate of batches sent.",
              "fieldConfig": {
                "defaults": {
                  "color": {
                    "mode": "palette-classic"
                  },
                  "custom": {
                    "axisBorderShow": false,
                    "axisCenteredZero": false,
                    "axisColorMode": "text",
                    "axisLabel": "",
                    "axisPlacement": "auto",
                    "barAlignment": 0,
                    "drawStyle": "line",
                    "fillOpacity": 20,
                    "gradientMode": "none",
                    "hideFrom": {
                      "legend": false,
                      "tooltip": false,
                      "viz": false
                    },
                    "insertNulls": false,
                    "lineInterpolation": "linear",
                    "lineWidth": 2,
                    "pointSize": 5,
                    "scaleDistribution": {
                      "type": "linear"
                    },
                    "showPoints": "never",
                    "spanNulls": false,
                    "stacking": {
                      "group": "A",
                      "mode": "none"
                    },
                    "thresholdsStyle": {
                      "mode": "off"
                    }
                  },
                  "decimals": 0,
                  "mappings": [],
                  "min": 0,
                  "thresholds": {
                    "mode": "absolute",
                    "steps": [
                      {
                        "color": "green",
                        "value": null
                      },
                      {
                        "color": "red",
                        "value": 80
                      }
                    ]
                  },
                  "unit": "cps"
                },
                "overrides": []
              },
              "gridPos": {
                "h": 9,
                "w": 8,
                "x": 16,
                "y": 39
              },
              "id": 98,
              "interval": "$inter",
              "options": {
                "legend": {
                  "calcs": [
                    "mean",
                    "max"
                  ],
                  "displayMode": "table",
                  "placement": "bottom",
                  "showLegend": true,
                  "width": 300
                },
                "tooltip": {
                  "mode": "multi",
                  "sort": "none"
                }
              },
              "pluginVersion": "9.5.2",
              "targets": [
                {
                  "alias": "connector: $tag_connectorName topic: $tag_topicName",
                  "datasource": {
                    "0": "$",
                    "1": "d",
                    "2": "a",
                    "3": "t",
                    "4": "a",
                    "5": "s",
                    "6": "o",
                    "7": "u",
                    "8": "r",
                    "9": "c",
                    "10": "e"
                  },
                  "dsType": "influxdb",
                  "editorMode": "code",
                  "exemplar": true,
                  "expr": "max(kafka_producer_compression_rate_avg{namespace=\"$namespace\" ,cluster=\"$cluster\",client_id=~\"$client_id\",pod=~\"$pod\"}) by (client_id, pod)",
                  "groupBy": [
                    {
                      "params": [
                        "$inter"
                      ],
                      "type": "time"
                    },
                    {
                      "params": [
                        "connectorName"
                      ],
                      "type": "tag"
                    },
                    {
                      "params": [
                        "topicName"
                      ],
                      "type": "tag"
                    }
                  ],
                  "interval": "",
                  "legendFormat": "client_id={{ `{{` }}client_id{{ `}}` }}, pod={{ `{{` }}pod{{ `}}` }}",
                  "measurement": "streaming-platform-topics-source-connectors",
                  "orderByTime": "ASC",
                  "policy": "default",
                  "query": "SELECT min(\"totalHandledCount\") FROM \"streaming-platform-topics-source-connectors\" WHERE \"project_name\" =~ /^$project$/ AND $timeFilter GROUP BY time($inter), \"connectorName\", \"topicName\"",
                  "range": true,
                  "rawQuery": true,
                  "refId": "A",
                  "resultFormat": "time_series",
                  "select": [
                    [
                      {
                        "params": [
                          "totalHandledCount"
                        ],
                        "type": "field"
                      },
                      {
                        "params": [],
                        "type": "min"
                      }
                    ]
                  ],
                  "tags": []
                }
              ],
              "title": "Average Compression Rate",
              "type": "timeseries"
            },
            {
              "datasource": {
                "type": "prometheus",
                "uid": "$datasource"
              },
              "description": "The number of in-flight requests.",
              "fieldConfig": {
                "defaults": {
                  "color": {
                    "mode": "palette-classic"
                  },
                  "custom": {
                    "axisBorderShow": false,
                    "axisCenteredZero": false,
                    "axisColorMode": "text",
                    "axisLabel": "",
                    "axisPlacement": "auto",
                    "barAlignment": 0,
                    "drawStyle": "line",
                    "fillOpacity": 20,
                    "gradientMode": "none",
                    "hideFrom": {
                      "legend": false,
                      "tooltip": false,
                      "viz": false
                    },
                    "insertNulls": false,
                    "lineInterpolation": "linear",
                    "lineWidth": 2,
                    "pointSize": 5,
                    "scaleDistribution": {
                      "type": "linear"
                    },
                    "showPoints": "never",
                    "spanNulls": false,
                    "stacking": {
                      "group": "A",
                      "mode": "none"
                    },
                    "thresholdsStyle": {
                      "mode": "off"
                    }
                  },
                  "decimals": 0,
                  "mappings": [],
                  "min": 0,
                  "thresholds": {
                    "mode": "absolute",
                    "steps": [
                      {
                        "color": "green",
                        "value": null
                      },
                      {
                        "color": "red",
                        "value": 80
                      }
                    ]
                  },
                  "unit": "short"
                },
                "overrides": []
              },
              "gridPos": {
                "h": 9,
                "w": 8,
                "x": 0,
                "y": 48
              },
              "id": 74,
              "interval": "$inter",
              "options": {
                "legend": {
                  "calcs": [
                    "mean",
                    "max"
                  ],
                  "displayMode": "table",
                  "placement": "bottom",
                  "showLegend": true,
                  "width": 300
                },
                "tooltip": {
                  "mode": "multi",
                  "sort": "none"
                }
              },
              "pluginVersion": "9.5.2",
              "targets": [
                {
                  "alias": "connector: $tag_connectorName topic: $tag_topicName",
                  "datasource": {
                    "0": "$",
                    "1": "d",
                    "2": "a",
                    "3": "t",
                    "4": "a",
                    "5": "s",
                    "6": "o",
                    "7": "u",
                    "8": "r",
                    "9": "c",
                    "10": "e"
                  },
                  "dsType": "influxdb",
                  "editorMode": "code",
                  "exemplar": true,
                  "expr": "max(kafka_producer_requests_in_flight{namespace=\"$namespace\",cluster=\"$cluster\",client_id=~\"$client_id\",pod=~\"$pod\"}) by (client_id, pod)",
                  "groupBy": [
                    {
                      "params": [
                        "$inter"
                      ],
                      "type": "time"
                    },
                    {
                      "params": [
                        "connectorName"
                      ],
                      "type": "tag"
                    },
                    {
                      "params": [
                        "topicName"
                      ],
                      "type": "tag"
                    }
                  ],
                  "interval": "",
                  "legendFormat": "client_id={{ `{{` }}client_id{{ `}}` }}, pod={{ `{{` }}pod{{ `}}` }}",
                  "measurement": "streaming-platform-topics-source-connectors",
                  "orderByTime": "ASC",
                  "policy": "default",
                  "query": "SELECT min(\"totalHandledCount\") FROM \"streaming-platform-topics-source-connectors\" WHERE \"project_name\" =~ /^$project$/ AND $timeFilter GROUP BY time($inter), \"connectorName\", \"topicName\"",
                  "range": true,
                  "rawQuery": true,
                  "refId": "A",
                  "resultFormat": "time_series",
                  "select": [
                    [
                      {
                        "params": [
                          "totalHandledCount"
                        ],
                        "type": "field"
                      },
                      {
                        "params": [],
                        "type": "min"
                      }
                    ]
                  ],
                  "tags": []
                }
              ],
              "title": "In-Flight Requests",
              "type": "timeseries"
            },
            {
              "datasource": {
                "type": "prometheus",
                "uid": "$datasource"
              },
              "description": "The average number of outgoing/incoming bytes per second.",
              "fieldConfig": {
                "defaults": {
                  "color": {
                    "mode": "palette-classic"
                  },
                  "custom": {
                    "axisBorderShow": false,
                    "axisCenteredZero": false,
                    "axisColorMode": "text",
                    "axisLabel": "",
                    "axisPlacement": "auto",
                    "barAlignment": 0,
                    "drawStyle": "line",
                    "fillOpacity": 20,
                    "gradientMode": "none",
                    "hideFrom": {
                      "legend": false,
                      "tooltip": false,
                      "viz": false
                    },
                    "insertNulls": false,
                    "lineInterpolation": "linear",
                    "lineWidth": 2,
                    "pointSize": 5,
                    "scaleDistribution": {
                      "type": "linear"
                    },
                    "showPoints": "never",
                    "spanNulls": false,
                    "stacking": {
                      "group": "A",
                      "mode": "none"
                    },
                    "thresholdsStyle": {
                      "mode": "off"
                    }
                  },
                  "decimals": 0,
                  "mappings": [],
                  "min": 0,
                  "thresholds": {
                    "mode": "absolute",
                    "steps": [
                      {
                        "color": "green",
                        "value": null
                      },
                      {
                        "color": "red",
                        "value": 80
                      }
                    ]
                  },
                  "unit": "binBps"
                },
                "overrides": []
              },
              "gridPos": {
                "h": 9,
                "w": 8,
                "x": 8,
                "y": 48
              },
              "id": 77,
              "interval": "$inter",
              "options": {
                "legend": {
                  "calcs": [
                    "mean",
                    "max"
                  ],
                  "displayMode": "table",
                  "placement": "bottom",
                  "showLegend": true,
                  "width": 300
                },
                "tooltip": {
                  "mode": "multi",
                  "sort": "none"
                }
              },
              "pluginVersion": "9.5.2",
              "targets": [
                {
                  "alias": "connector: $tag_connectorName topic: $tag_topicName",
                  "datasource": {
                    "0": "$",
                    "1": "d",
                    "2": "a",
                    "3": "t",
                    "4": "a",
                    "5": "s",
                    "6": "o",
                    "7": "u",
                    "8": "r",
                    "9": "c",
                    "10": "e"
                  },
                  "dsType": "influxdb",
                  "editorMode": "code",
                  "exemplar": true,
                  "expr": "rate(kafka_producer_outgoing_byte_total{namespace=\"$namespace\" ,cluster=\"$cluster\",client_id=~\"$client_id\",pod=~\"$pod\"}[5m]) ",
                  "groupBy": [
                    {
                      "params": [
                        "$inter"
                      ],
                      "type": "time"
                    },
                    {
                      "params": [
                        "connectorName"
                      ],
                      "type": "tag"
                    },
                    {
                      "params": [
                        "topicName"
                      ],
                      "type": "tag"
                    }
                  ],
                  "interval": "",
                  "legendFormat": "client_id={{ `{{` }}client_id{{ `}}` }}, topic={{ `{{` }}topic{{ `}}` }}, pod={{ `{{` }}pod{{ `}}` }}",
                  "measurement": "streaming-platform-topics-source-connectors",
                  "orderByTime": "ASC",
                  "policy": "default",
                  "query": "SELECT min(\"totalHandledCount\") FROM \"streaming-platform-topics-source-connectors\" WHERE \"project_name\" =~ /^$project$/ AND $timeFilter GROUP BY time($inter), \"connectorName\", \"topicName\"",
                  "range": true,
                  "rawQuery": true,
                  "refId": "A",
                  "resultFormat": "time_series",
                  "select": [
                    [
                      {
                        "params": [
                          "totalHandledCount"
                        ],
                        "type": "field"
                      },
                      {
                        "params": [],
                        "type": "min"
                      }
                    ]
                  ],
                  "tags": []
                }
              ],
              "title": "Producer Outgoing Bytes Rate",
              "type": "timeseries"
            }
          ],
          "title": "Producers Metrics",
          "type": "row"
        },
        {
          "collapsed": true,
          "gridPos": {
            "h": 1,
            "w": 24,
            "x": 0,
            "y": 16
          },
          "id": 56,
          "panels": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "$datasource"
              },
              "description": "Average number of records consumed per second for a specific topic or across all topics.",
              "fieldConfig": {
                "defaults": {
                  "color": {
                    "mode": "palette-classic"
                  },
                  "custom": {
                    "axisBorderShow": false,
                    "axisCenteredZero": false,
                    "axisColorMode": "text",
                    "axisLabel": "",
                    "axisPlacement": "auto",
                    "barAlignment": 0,
                    "drawStyle": "line",
                    "fillOpacity": 20,
                    "gradientMode": "none",
                    "hideFrom": {
                      "legend": false,
                      "tooltip": false,
                      "viz": false
                    },
                    "insertNulls": false,
                    "lineInterpolation": "linear",
                    "lineWidth": 2,
                    "pointSize": 5,
                    "scaleDistribution": {
                      "type": "linear"
                    },
                    "showPoints": "never",
                    "spanNulls": false,
                    "stacking": {
                      "group": "A",
                      "mode": "none"
                    },
                    "thresholdsStyle": {
                      "mode": "off"
                    }
                  },
                  "decimals": 0,
                  "mappings": [],
                  "min": 0,
                  "thresholds": {
                    "mode": "absolute",
                    "steps": [
                      {
                        "color": "green",
                        "value": null
                      },
                      {
                        "color": "red",
                        "value": 80
                      }
                    ]
                  },
                  "unit": "cps"
                },
                "overrides": []
              },
              "gridPos": {
                "h": 9,
                "w": 8,
                "x": 0,
                "y": 4
              },
              "id": 85,
              "interval": "$inter",
              "options": {
                "legend": {
                  "calcs": [
                    "mean",
                    "max"
                  ],
                  "displayMode": "table",
                  "placement": "bottom",
                  "showLegend": true,
                  "width": 300
                },
                "tooltip": {
                  "mode": "multi",
                  "sort": "none"
                }
              },
              "pluginVersion": "9.5.2",
              "targets": [
                {
                  "alias": "connector: $tag_connectorName topic: $tag_topicName",
                  "datasource": {
                    "0": "$",
                    "1": "d",
                    "2": "a",
                    "3": "t",
                    "4": "a",
                    "5": "s",
                    "6": "o",
                    "7": "u",
                    "8": "r",
                    "9": "c",
                    "10": "e"
                  },
                  "dsType": "influxdb",
                  "editorMode": "code",
                  "exemplar": true,
                  "expr": "rate(kafka_consumer_fetch_manager_records_consumed_total{namespace=\"$namespace\",cluster=\"$cluster\",client_id=~\"$client_id\",topic=~\"$topic\",pod=~\"$pod\"}[5m])",
                  "groupBy": [
                    {
                      "params": [
                        "$inter"
                      ],
                      "type": "time"
                    },
                    {
                      "params": [
                        "connectorName"
                      ],
                      "type": "tag"
                    },
                    {
                      "params": [
                        "topicName"
                      ],
                      "type": "tag"
                    }
                  ],
                  "interval": "",
                  "legendFormat": "client_id={{ `{{` }}client_id{{ `}}` }}, topic={{ `{{` }}topic{{ `}}` }}, pod={{ `{{` }}pod{{ `}}` }}",
                  "measurement": "streaming-platform-topics-source-connectors",
                  "orderByTime": "ASC",
                  "policy": "default",
                  "query": "SELECT min(\"totalHandledCount\") FROM \"streaming-platform-topics-source-connectors\" WHERE \"project_name\" =~ /^$project$/ AND $timeFilter GROUP BY time($inter), \"connectorName\", \"topicName\"",
                  "range": true,
                  "rawQuery": true,
                  "refId": "A",
                  "resultFormat": "time_series",
                  "select": [
                    [
                      {
                        "params": [
                          "totalHandledCount"
                        ],
                        "type": "field"
                      },
                      {
                        "params": [],
                        "type": "min"
                      }
                    ]
                  ],
                  "tags": []
                }
              ],
              "title": "Consumer Records Rate",
              "type": "timeseries"
            },
            {
              "datasource": {
                "type": "prometheus",
                "uid": "$datasource"
              },
              "description": "Average number of bytes consumed per second for a specific topic or across all topics.",
              "fieldConfig": {
                "defaults": {
                  "color": {
                    "mode": "palette-classic"
                  },
                  "custom": {
                    "axisBorderShow": false,
                    "axisCenteredZero": false,
                    "axisColorMode": "text",
                    "axisLabel": "",
                    "axisPlacement": "auto",
                    "barAlignment": 0,
                    "drawStyle": "line",
                    "fillOpacity": 20,
                    "gradientMode": "none",
                    "hideFrom": {
                      "legend": false,
                      "tooltip": false,
                      "viz": false
                    },
                    "insertNulls": false,
                    "lineInterpolation": "linear",
                    "lineWidth": 2,
                    "pointSize": 5,
                    "scaleDistribution": {
                      "type": "linear"
                    },
                    "showPoints": "never",
                    "spanNulls": false,
                    "stacking": {
                      "group": "A",
                      "mode": "none"
                    },
                    "thresholdsStyle": {
                      "mode": "off"
                    }
                  },
                  "decimals": 0,
                  "mappings": [],
                  "min": 0,
                  "thresholds": {
                    "mode": "absolute",
                    "steps": [
                      {
                        "color": "green",
                        "value": null
                      },
                      {
                        "color": "red",
                        "value": 80
                      }
                    ]
                  },
                  "unit": "binBps"
                },
                "overrides": []
              },
              "gridPos": {
                "h": 9,
                "w": 8,
                "x": 8,
                "y": 4
              },
              "id": 89,
              "interval": "$inter",
              "options": {
                "legend": {
                  "calcs": [
                    "mean",
                    "max"
                  ],
                  "displayMode": "table",
                  "placement": "bottom",
                  "showLegend": true,
                  "width": 300
                },
                "tooltip": {
                  "mode": "multi",
                  "sort": "none"
                }
              },
              "pluginVersion": "9.5.2",
              "targets": [
                {
                  "alias": "connector: $tag_connectorName topic: $tag_topicName",
                  "datasource": {
                    "0": "$",
                    "1": "d",
                    "2": "a",
                    "3": "t",
                    "4": "a",
                    "5": "s",
                    "6": "o",
                    "7": "u",
                    "8": "r",
                    "9": "c",
                    "10": "e"
                  },
                  "dsType": "influxdb",
                  "editorMode": "code",
                  "exemplar": true,
                  "expr": "rate(kafka_consumer_fetch_manager_bytes_consumed_total{namespace=\"$namespace\",cluster=\"$cluster\",client_id=~\"$client_id\",topic=~\"$topic\",pod=~\"$pod\"}[5m]) ",
                  "groupBy": [
                    {
                      "params": [
                        "$inter"
                      ],
                      "type": "time"
                    },
                    {
                      "params": [
                        "connectorName"
                      ],
                      "type": "tag"
                    },
                    {
                      "params": [
                        "topicName"
                      ],
                      "type": "tag"
                    }
                  ],
                  "interval": "",
                  "legendFormat": "client_id={{ `{{` }}client_id{{ `}}` }}, topic={{ `{{` }}topic{{ `}}` }}, pod={{ `{{` }}pod{{ `}}` }}",
                  "measurement": "streaming-platform-topics-source-connectors",
                  "orderByTime": "ASC",
                  "policy": "default",
                  "query": "SELECT min(\"totalHandledCount\") FROM \"streaming-platform-topics-source-connectors\" WHERE \"project_name\" =~ /^$project$/ AND $timeFilter GROUP BY time($inter), \"connectorName\", \"topicName\"",
                  "range": true,
                  "rawQuery": true,
                  "refId": "A",
                  "resultFormat": "time_series",
                  "select": [
                    [
                      {
                        "params": [
                          "totalHandledCount"
                        ],
                        "type": "field"
                      },
                      {
                        "params": [],
                        "type": "min"
                      }
                    ]
                  ],
                  "tags": []
                }
              ],
              "title": "Consumer Records Bytes Rate",
              "type": "timeseries"
            },
            {
              "datasource": {
                "type": "prometheus",
                "uid": "$datasource"
              },
              "description": "The rate of requests sent.",
              "fieldConfig": {
                "defaults": {
                  "color": {
                    "mode": "palette-classic"
                  },
                  "custom": {
                    "axisBorderShow": false,
                    "axisCenteredZero": false,
                    "axisColorMode": "text",
                    "axisLabel": "",
                    "axisPlacement": "auto",
                    "barAlignment": 0,
                    "drawStyle": "line",
                    "fillOpacity": 20,
                    "gradientMode": "none",
                    "hideFrom": {
                      "legend": false,
                      "tooltip": false,
                      "viz": false
                    },
                    "insertNulls": false,
                    "lineInterpolation": "linear",
                    "lineWidth": 2,
                    "pointSize": 5,
                    "scaleDistribution": {
                      "type": "linear"
                    },
                    "showPoints": "never",
                    "spanNulls": false,
                    "stacking": {
                      "group": "A",
                      "mode": "none"
                    },
                    "thresholdsStyle": {
                      "mode": "off"
                    }
                  },
                  "decimals": 0,
                  "mappings": [],
                  "min": 0,
                  "thresholds": {
                    "mode": "absolute",
                    "steps": [
                      {
                        "color": "green",
                        "value": null
                      },
                      {
                        "color": "red",
                        "value": 80
                      }
                    ]
                  },
                  "unit": "cps"
                },
                "overrides": []
              },
              "gridPos": {
                "h": 9,
                "w": 8,
                "x": 16,
                "y": 4
              },
              "id": 86,
              "interval": "$inter",
              "options": {
                "legend": {
                  "calcs": [
                    "mean",
                    "max"
                  ],
                  "displayMode": "table",
                  "placement": "bottom",
                  "showLegend": true,
                  "width": 300
                },
                "tooltip": {
                  "mode": "multi",
                  "sort": "none"
                }
              },
              "pluginVersion": "9.5.2",
              "targets": [
                {
                  "alias": "connector: $tag_connectorName topic: $tag_topicName",
                  "datasource": {
                    "0": "$",
                    "1": "d",
                    "2": "a",
                    "3": "t",
                    "4": "a",
                    "5": "s",
                    "6": "o",
                    "7": "u",
                    "8": "r",
                    "9": "c",
                    "10": "e"
                  },
                  "dsType": "influxdb",
                  "editorMode": "code",
                  "exemplar": true,
                  "expr": "rate(kafka_consumer_request_total{namespace=\"$namespace\",cluster=\"$cluster\",client_id=~\"$client_id\",pod=~\"$pod\"}[5m])",
                  "groupBy": [
                    {
                      "params": [
                        "$inter"
                      ],
                      "type": "time"
                    },
                    {
                      "params": [
                        "connectorName"
                      ],
                      "type": "tag"
                    },
                    {
                      "params": [
                        "topicName"
                      ],
                      "type": "tag"
                    }
                  ],
                  "interval": "",
                  "legendFormat": "client_id={{ `{{` }}client_id{{ `}}` }}, pod={{ `{{` }}pod{{ `}}` }}",
                  "measurement": "streaming-platform-topics-source-connectors",
                  "orderByTime": "ASC",
                  "policy": "default",
                  "query": "SELECT min(\"totalHandledCount\") FROM \"streaming-platform-topics-source-connectors\" WHERE \"project_name\" =~ /^$project$/ AND $timeFilter GROUP BY time($inter), \"connectorName\", \"topicName\"",
                  "range": true,
                  "rawQuery": true,
                  "refId": "A",
                  "resultFormat": "time_series",
                  "select": [
                    [
                      {
                        "params": [
                          "totalHandledCount"
                        ],
                        "type": "field"
                      },
                      {
                        "params": [],
                        "type": "min"
                      }
                    ]
                  ],
                  "tags": []
                }
              ],
              "title": "Consumer Request Rate",
              "type": "timeseries"
            },
            {
              "datasource": {
                "type": "prometheus",
                "uid": "$datasource"
              },
              "description": "Number of messages consumer is behind producer on this partition.",
              "fieldConfig": {
                "defaults": {
                  "color": {
                    "mode": "palette-classic"
                  },
                  "custom": {
                    "axisBorderShow": false,
                    "axisCenteredZero": false,
                    "axisColorMode": "text",
                    "axisLabel": "",
                    "axisPlacement": "auto",
                    "barAlignment": 0,
                    "drawStyle": "line",
                    "fillOpacity": 20,
                    "gradientMode": "none",
                    "hideFrom": {
                      "legend": false,
                      "tooltip": false,
                      "viz": false
                    },
                    "insertNulls": false,
                    "lineInterpolation": "linear",
                    "lineWidth": 2,
                    "pointSize": 5,
                    "scaleDistribution": {
                      "type": "linear"
                    },
                    "showPoints": "never",
                    "spanNulls": false,
                    "stacking": {
                      "group": "A",
                      "mode": "none"
                    },
                    "thresholdsStyle": {
                      "mode": "off"
                    }
                  },
                  "mappings": [],
                  "min": 0,
                  "thresholds": {
                    "mode": "absolute",
                    "steps": [
                      {
                        "color": "green",
                        "value": null
                      },
                      {
                        "color": "red",
                        "value": 80
                      }
                    ]
                  },
                  "unit": "short"
                },
                "overrides": [
                  {
                    "matcher": {
                      "id": "byFrameRefID",
                      "options": "B"
                    },
                    "properties": [
                      {
                        "id": "color",
                        "value": {
                          "fixedColor": "dark-red",
                          "mode": "fixed"
                        }
                      }
                    ]
                  }
                ]
              },
              "gridPos": {
                "h": 8,
                "w": 8,
                "x": 0,
                "y": 13
              },
              "id": 64,
              "interval": "$inter",
              "options": {
                "legend": {
                  "calcs": [
                    "mean",
                    "max"
                  ],
                  "displayMode": "table",
                  "placement": "bottom",
                  "showLegend": true,
                  "width": 300
                },
                "tooltip": {
                  "mode": "multi",
                  "sort": "none"
                }
              },
              "pluginVersion": "9.5.2",
              "targets": [
                {
                  "alias": "connector: $tag_connectorName topic: $tag_topicName",
                  "datasource": {
                    "0": "$",
                    "1": "d",
                    "2": "a",
                    "3": "t",
                    "4": "a",
                    "5": "s",
                    "6": "o",
                    "7": "u",
                    "8": "r",
                    "9": "c",
                    "10": "e"
                  },
                  "dsType": "influxdb",
                  "editorMode": "code",
                  "expr": "max(kafka_consumer_fetch_manager_records_lag{namespace=\"$namespace\",cluster=\"$cluster\",topic=~\"$topic\",pod=~\"$pod\"}) by (client_id, topic, pod, partition)",
                  "groupBy": [
                    {
                      "params": [
                        "$inter"
                      ],
                      "type": "time"
                    },
                    {
                      "params": [
                        "connectorName"
                      ],
                      "type": "tag"
                    },
                    {
                      "params": [
                        "topicName"
                      ],
                      "type": "tag"
                    }
                  ],
                  "interval": "",
                  "legendFormat": "client_id={{ `{{` }}client_id{{ `}}` }}, topic={{ `{{` }}topic{{ `}}` }}, pod={{ `{{` }}pod{{ `}}` }}, partition={{ `{{` }}partition{{ `}}` }}",
                  "measurement": "streaming-platform-topics-sink-connectors",
                  "orderByTime": "ASC",
                  "policy": "default",
                  "query": "SELECT min(\"successfullyHandledCount\") FROM \"streaming-platform-topics-sink-connectors\" WHERE \"project_name\" =~ /^$project$/ AND $timeFilter GROUP BY time($__interval), \"connectorName\", \"topicName\"",
                  "range": true,
                  "rawQuery": true,
                  "refId": "A",
                  "resultFormat": "time_series",
                  "select": [
                    [
                      {
                        "params": [
                          "successfullyHandledCount"
                        ],
                        "type": "field"
                      },
                      {
                        "params": [],
                        "type": "min"
                      }
                    ]
                  ],
                  "tags": []
                }
              ],
              "title": "Consumer Lag",
              "type": "timeseries"
            },
            {
              "datasource": {
                "type": "prometheus",
                "uid": "$datasource"
              },
              "description": "The number of fetch requests per second from the consumer.",
              "fieldConfig": {
                "defaults": {
                  "color": {
                    "mode": "palette-classic"
                  },
                  "custom": {
                    "axisBorderShow": false,
                    "axisCenteredZero": false,
                    "axisColorMode": "text",
                    "axisLabel": "",
                    "axisPlacement": "auto",
                    "barAlignment": 0,
                    "drawStyle": "line",
                    "fillOpacity": 20,
                    "gradientMode": "none",
                    "hideFrom": {
                      "legend": false,
                      "tooltip": false,
                      "viz": false
                    },
                    "insertNulls": false,
                    "lineInterpolation": "linear",
                    "lineWidth": 2,
                    "pointSize": 5,
                    "scaleDistribution": {
                      "type": "linear"
                    },
                    "showPoints": "never",
                    "spanNulls": false,
                    "stacking": {
                      "group": "A",
                      "mode": "none"
                    },
                    "thresholdsStyle": {
                      "mode": "off"
                    }
                  },
                  "decimals": 0,
                  "mappings": [],
                  "min": 0,
                  "thresholds": {
                    "mode": "absolute",
                    "steps": [
                      {
                        "color": "green",
                        "value": null
                      },
                      {
                        "color": "red",
                        "value": 80
                      }
                    ]
                  },
                  "unit": "cps"
                },
                "overrides": []
              },
              "gridPos": {
                "h": 8,
                "w": 8,
                "x": 8,
                "y": 13
              },
              "id": 102,
              "interval": "$inter",
              "options": {
                "legend": {
                  "calcs": [
                    "mean",
                    "max"
                  ],
                  "displayMode": "table",
                  "placement": "bottom",
                  "showLegend": true,
                  "width": 300
                },
                "tooltip": {
                  "mode": "multi",
                  "sort": "none"
                }
              },
              "pluginVersion": "9.5.2",
              "targets": [
                {
                  "alias": "connector: $tag_connectorName topic: $tag_topicName",
                  "datasource": {
                    "0": "$",
                    "1": "d",
                    "2": "a",
                    "3": "t",
                    "4": "a",
                    "5": "s",
                    "6": "o",
                    "7": "u",
                    "8": "r",
                    "9": "c",
                    "10": "e"
                  },
                  "dsType": "influxdb",
                  "editorMode": "code",
                  "exemplar": true,
                  "expr": "rate(kafka_consumer_fetch_manager_fetch_total{namespace=\"$namespace\" ,cluster=\"$cluster\",client_id=~\"$client_id\",pod=~\"$pod\"}[5m]) ",
                  "groupBy": [
                    {
                      "params": [
                        "$inter"
                      ],
                      "type": "time"
                    },
                    {
                      "params": [
                        "connectorName"
                      ],
                      "type": "tag"
                    },
                    {
                      "params": [
                        "topicName"
                      ],
                      "type": "tag"
                    }
                  ],
                  "interval": "",
                  "legendFormat": "client_id={{ `{{` }}client_id{{ `}}` }}, pod={{ `{{` }}pod{{ `}}` }}",
                  "measurement": "streaming-platform-topics-source-connectors",
                  "orderByTime": "ASC",
                  "policy": "default",
                  "query": "SELECT min(\"totalHandledCount\") FROM \"streaming-platform-topics-source-connectors\" WHERE \"project_name\" =~ /^$project$/ AND $timeFilter GROUP BY time($inter), \"connectorName\", \"topicName\"",
                  "range": true,
                  "rawQuery": true,
                  "refId": "A",
                  "resultFormat": "time_series",
                  "select": [
                    [
                      {
                        "params": [
                          "totalHandledCount"
                        ],
                        "type": "field"
                      },
                      {
                        "params": [],
                        "type": "min"
                      }
                    ]
                  ],
                  "tags": []
                }
              ],
              "title": "Fetch Rate",
              "type": "timeseries"
            },
            {
              "datasource": {
                "type": "prometheus",
                "uid": "$datasource"
              },
              "description": "The average Consumer request size.",
              "fieldConfig": {
                "defaults": {
                  "color": {
                    "mode": "palette-classic"
                  },
                  "custom": {
                    "axisBorderShow": false,
                    "axisCenteredZero": false,
                    "axisColorMode": "text",
                    "axisLabel": "",
                    "axisPlacement": "auto",
                    "barAlignment": 0,
                    "drawStyle": "line",
                    "fillOpacity": 20,
                    "gradientMode": "none",
                    "hideFrom": {
                      "legend": false,
                      "tooltip": false,
                      "viz": false
                    },
                    "insertNulls": false,
                    "lineInterpolation": "linear",
                    "lineWidth": 2,
                    "pointSize": 5,
                    "scaleDistribution": {
                      "type": "linear"
                    },
                    "showPoints": "never",
                    "spanNulls": false,
                    "stacking": {
                      "group": "A",
                      "mode": "none"
                    },
                    "thresholdsStyle": {
                      "mode": "off"
                    }
                  },
                  "mappings": [],
                  "min": 0,
                  "thresholds": {
                    "mode": "absolute",
                    "steps": [
                      {
                        "color": "green",
                        "value": null
                      },
                      {
                        "color": "red",
                        "value": 80
                      }
                    ]
                  },
                  "unit": "decbytes"
                },
                "overrides": [
                  {
                    "matcher": {
                      "id": "byFrameRefID",
                      "options": "B"
                    },
                    "properties": [
                      {
                        "id": "color",
                        "value": {
                          "fixedColor": "dark-red",
                          "mode": "fixed"
                        }
                      }
                    ]
                  }
                ]
              },
              "gridPos": {
                "h": 8,
                "w": 8,
                "x": 16,
                "y": 13
              },
              "id": 105,
              "interval": "$inter",
              "options": {
                "legend": {
                  "calcs": [
                    "mean",
                    "max"
                  ],
                  "displayMode": "table",
                  "placement": "bottom",
                  "showLegend": true,
                  "width": 300
                },
                "tooltip": {
                  "mode": "multi",
                  "sort": "none"
                }
              },
              "pluginVersion": "9.5.2",
              "targets": [
                {
                  "alias": "connector: $tag_connectorName topic: $tag_topicName",
                  "datasource": {
                    "0": "$",
                    "1": "d",
                    "2": "a",
                    "3": "t",
                    "4": "a",
                    "5": "s",
                    "6": "o",
                    "7": "u",
                    "8": "r",
                    "9": "c",
                    "10": "e"
                  },
                  "dsType": "influxdb",
                  "editorMode": "code",
                  "expr": "max(kafka_consumer_request_size_avg{namespace=\"$namespace\",cluster=\"$cluster\",pod=~\"$pod\"}) by (client_id, pod)",
                  "groupBy": [
                    {
                      "params": [
                        "$inter"
                      ],
                      "type": "time"
                    },
                    {
                      "params": [
                        "connectorName"
                      ],
                      "type": "tag"
                    },
                    {
                      "params": [
                        "topicName"
                      ],
                      "type": "tag"
                    }
                  ],
                  "interval": "",
                  "legendFormat": "client_id={{ `{{` }}client_id{{ `}}` }}, pod={{ `{{` }}pod{{ `}}` }}",
                  "measurement": "streaming-platform-topics-sink-connectors",
                  "orderByTime": "ASC",
                  "policy": "default",
                  "query": "SELECT min(\"successfullyHandledCount\") FROM \"streaming-platform-topics-sink-connectors\" WHERE \"project_name\" =~ /^$project$/ AND $timeFilter GROUP BY time($__interval), \"connectorName\", \"topicName\"",
                  "range": true,
                  "rawQuery": true,
                  "refId": "A",
                  "resultFormat": "time_series",
                  "select": [
                    [
                      {
                        "params": [
                          "successfullyHandledCount"
                        ],
                        "type": "field"
                      },
                      {
                        "params": [],
                        "type": "min"
                      }
                    ]
                  ],
                  "tags": []
                }
              ],
              "title": "Average Consumer Request Size",
              "type": "timeseries"
            },
            {
              "datasource": {
                "type": "prometheus",
                "uid": "$datasource"
              },
              "description": "Number of rebalances and failed rebalances.",
              "fieldConfig": {
                "defaults": {
                  "color": {
                    "mode": "palette-classic"
                  },
                  "custom": {
                    "axisBorderShow": false,
                    "axisCenteredZero": false,
                    "axisColorMode": "text",
                    "axisLabel": "",
                    "axisPlacement": "auto",
                    "barAlignment": 0,
                    "drawStyle": "line",
                    "fillOpacity": 10,
                    "gradientMode": "none",
                    "hideFrom": {
                      "legend": false,
                      "tooltip": false,
                      "viz": false
                    },
                    "insertNulls": false,
                    "lineInterpolation": "linear",
                    "lineWidth": 1,
                    "pointSize": 5,
                    "scaleDistribution": {
                      "type": "linear"
                    },
                    "showPoints": "never",
                    "spanNulls": false,
                    "stacking": {
                      "group": "A",
                      "mode": "none"
                    },
                    "thresholdsStyle": {
                      "mode": "off"
                    }
                  },
                  "mappings": [],
                  "min": 0,
                  "thresholds": {
                    "mode": "absolute",
                    "steps": [
                      {
                        "color": "green",
                        "value": null
                      },
                      {
                        "color": "red",
                        "value": 80
                      }
                    ]
                  },
                  "unit": "short"
                },
                "overrides": [
                  {
                    "matcher": {
                      "id": "byFrameRefID",
                      "options": "B"
                    },
                    "properties": [
                      {
                        "id": "color",
                        "value": {
                          "fixedColor": "dark-red",
                          "mode": "fixed"
                        }
                      }
                    ]
                  }
                ]
              },
              "gridPos": {
                "h": 8,
                "w": 8,
                "x": 0,
                "y": 21
              },
              "id": 92,
              "interval": "$inter",
              "options": {
                "legend": {
                  "calcs": [
                    "max"
                  ],
                  "displayMode": "table",
                  "placement": "bottom",
                  "showLegend": true
                },
                "tooltip": {
                  "mode": "multi",
                  "sort": "none"
                }
              },
              "pluginVersion": "9.5.2",
              "targets": [
                {
                  "alias": "$tag_connectorName",
                  "datasource": {
                    "0": "$",
                    "1": "d",
                    "2": "a",
                    "3": "t",
                    "4": "a",
                    "5": "s",
                    "6": "o",
                    "7": "u",
                    "8": "r",
                    "9": "c",
                    "10": "e"
                  },
                  "dsType": "influxdb",
                  "editorMode": "code",
                  "expr": "max(kafka_consumer_coordinator_rebalance_total{namespace=\"$namespace\",cluster=\"$cluster\",client_id=~\"$client_id\",pod=~\"$pod\"}) by (client_id, pod)",
                  "groupBy": [
                    {
                      "params": [
                        "$inter"
                      ],
                      "type": "time"
                    },
                    {
                      "params": [
                        "connectorName"
                      ],
                      "type": "tag"
                    }
                  ],
                  "interval": "",
                  "legendFormat": "client_id={{ `{{` }}client_id{{ `}}` }}, pod={{ `{{` }}pod{{ `}}` }}",
                  "measurement": "streaming-platform-connectors",
                  "orderByTime": "ASC",
                  "policy": "default",
                  "query": "SELECT non_negative_derivative(median(\"failedDocumentCount\"), $inter) FROM \"streaming-platform-connectors\" WHERE \"project_name\" =~ /^$project$/ AND $timeFilter GROUP BY time($inter), \"connectorName\"",
                  "range": true,
                  "rawQuery": true,
                  "refId": "A",
                  "resultFormat": "time_series",
                  "select": [
                    [
                      {
                        "params": [
                          "failedDocumentCount"
                        ],
                        "type": "field"
                      },
                      {
                        "params": [],
                        "type": "median"
                      },
                      {
                        "params": [
                          "$inter"
                        ],
                        "type": "non_negative_derivative"
                      }
                    ]
                  ],
                  "tags": []
                },
                {
                  "alias": "$tag_connectorName",
                  "datasource": {
                    "0": "$",
                    "1": "d",
                    "2": "a",
                    "3": "t",
                    "4": "a",
                    "5": "s",
                    "6": "o",
                    "7": "u",
                    "8": "r",
                    "9": "c",
                    "10": "e"
                  },
                  "dsType": "influxdb",
                  "editorMode": "code",
                  "expr": "max(kafka_consumer_coordinator_failed_rebalance_total{namespace=\"$namespace\",cluster=\"$cluster\",client_id=~\"$client_id\",pod=~\"$pod\"}) by (client_id, pod)",
                  "groupBy": [
                    {
                      "params": [
                        "$inter"
                      ],
                      "type": "time"
                    },
                    {
                      "params": [
                        "connectorName"
                      ],
                      "type": "tag"
                    }
                  ],
                  "hide": false,
                  "interval": "",
                  "legendFormat": "Failed: client_id={{ `{{` }}client_id{{ `}}` }}, pod={{ `{{` }}pod{{ `}}` }}",
                  "measurement": "streaming-platform-connectors",
                  "orderByTime": "ASC",
                  "policy": "default",
                  "query": "SELECT non_negative_derivative(median(\"failedDocumentCount\"), $inter) FROM \"streaming-platform-connectors\" WHERE \"project_name\" =~ /^$project$/ AND $timeFilter GROUP BY time($inter), \"connectorName\"",
                  "range": true,
                  "rawQuery": true,
                  "refId": "B",
                  "resultFormat": "time_series",
                  "select": [
                    [
                      {
                        "params": [
                          "failedDocumentCount"
                        ],
                        "type": "field"
                      },
                      {
                        "params": [],
                        "type": "median"
                      },
                      {
                        "params": [
                          "$inter"
                        ],
                        "type": "non_negative_derivative"
                      }
                    ]
                  ],
                  "tags": []
                }
              ],
              "title": "Consumer Rebalance Count",
              "type": "timeseries"
            },
            {
              "datasource": {
                "type": "prometheus",
                "uid": "$datasource"
              },
              "description": "Average length of time the I/O thread spent waiting for a socket (in ns).",
              "fieldConfig": {
                "defaults": {
                  "color": {
                    "mode": "palette-classic"
                  },
                  "custom": {
                    "axisBorderShow": false,
                    "axisCenteredZero": false,
                    "axisColorMode": "text",
                    "axisLabel": "",
                    "axisPlacement": "auto",
                    "barAlignment": 0,
                    "drawStyle": "line",
                    "fillOpacity": 20,
                    "gradientMode": "none",
                    "hideFrom": {
                      "legend": false,
                      "tooltip": false,
                      "viz": false
                    },
                    "insertNulls": false,
                    "lineInterpolation": "linear",
                    "lineWidth": 2,
                    "pointSize": 5,
                    "scaleDistribution": {
                      "type": "linear"
                    },
                    "showPoints": "never",
                    "spanNulls": false,
                    "stacking": {
                      "group": "A",
                      "mode": "none"
                    },
                    "thresholdsStyle": {
                      "mode": "off"
                    }
                  },
                  "decimals": 0,
                  "mappings": [],
                  "min": 0,
                  "thresholds": {
                    "mode": "absolute",
                    "steps": [
                      {
                        "color": "green",
                        "value": null
                      },
                      {
                        "color": "red",
                        "value": 80
                      }
                    ]
                  },
                  "unit": "ns"
                },
                "overrides": []
              },
              "gridPos": {
                "h": 8,
                "w": 8,
                "x": 8,
                "y": 21
              },
              "id": 91,
              "interval": "$inter",
              "options": {
                "legend": {
                  "calcs": [
                    "mean",
                    "max"
                  ],
                  "displayMode": "table",
                  "placement": "bottom",
                  "showLegend": true,
                  "width": 300
                },
                "tooltip": {
                  "mode": "multi",
                  "sort": "none"
                }
              },
              "pluginVersion": "9.5.2",
              "targets": [
                {
                  "alias": "connector: $tag_connectorName topic: $tag_topicName",
                  "datasource": {
                    "0": "$",
                    "1": "d",
                    "2": "a",
                    "3": "t",
                    "4": "a",
                    "5": "s",
                    "6": "o",
                    "7": "u",
                    "8": "r",
                    "9": "c",
                    "10": "e"
                  },
                  "dsType": "influxdb",
                  "editorMode": "code",
                  "exemplar": true,
                  "expr": "rate(kafka_consumer_io_wait_time_ns_total{namespace=\"$namespace\",cluster=\"$cluster\",client_id=~\"$client_id\",pod=~\"$pod\"}[5m])",
                  "groupBy": [
                    {
                      "params": [
                        "$inter"
                      ],
                      "type": "time"
                    },
                    {
                      "params": [
                        "connectorName"
                      ],
                      "type": "tag"
                    },
                    {
                      "params": [
                        "topicName"
                      ],
                      "type": "tag"
                    }
                  ],
                  "interval": "",
                  "legendFormat": "client_id={{ `{{` }}client_id{{ `}}` }}, pod={{ `{{` }}pod{{ `}}` }}",
                  "measurement": "streaming-platform-topics-source-connectors",
                  "orderByTime": "ASC",
                  "policy": "default",
                  "query": "SELECT min(\"totalHandledCount\") FROM \"streaming-platform-topics-source-connectors\" WHERE \"project_name\" =~ /^$project$/ AND $timeFilter GROUP BY time($inter), \"connectorName\", \"topicName\"",
                  "range": true,
                  "rawQuery": true,
                  "refId": "A",
                  "resultFormat": "time_series",
                  "select": [
                    [
                      {
                        "params": [
                          "totalHandledCount"
                        ],
                        "type": "field"
                      },
                      {
                        "params": [],
                        "type": "min"
                      }
                    ]
                  ],
                  "tags": []
                }
              ],
              "title": "IO Wait Consumer Time Rate",
              "type": "timeseries"
            },
            {
              "datasource": {
                "type": "prometheus",
                "uid": "$datasource"
              },
              "description": "The average number of records per request.",
              "fieldConfig": {
                "defaults": {
                  "color": {
                    "mode": "palette-classic"
                  },
                  "custom": {
                    "axisBorderShow": false,
                    "axisCenteredZero": false,
                    "axisColorMode": "text",
                    "axisLabel": "",
                    "axisPlacement": "auto",
                    "barAlignment": 0,
                    "drawStyle": "line",
                    "fillOpacity": 20,
                    "gradientMode": "none",
                    "hideFrom": {
                      "legend": false,
                      "tooltip": false,
                      "viz": false
                    },
                    "insertNulls": false,
                    "lineInterpolation": "linear",
                    "lineWidth": 2,
                    "pointSize": 5,
                    "scaleDistribution": {
                      "type": "linear"
                    },
                    "showPoints": "never",
                    "spanNulls": false,
                    "stacking": {
                      "group": "A",
                      "mode": "none"
                    },
                    "thresholdsStyle": {
                      "mode": "off"
                    }
                  },
                  "mappings": [],
                  "min": 0,
                  "thresholds": {
                    "mode": "absolute",
                    "steps": [
                      {
                        "color": "green",
                        "value": null
                      },
                      {
                        "color": "red",
                        "value": 80
                      }
                    ]
                  },
                  "unit": "none"
                },
                "overrides": [
                  {
                    "matcher": {
                      "id": "byFrameRefID",
                      "options": "B"
                    },
                    "properties": [
                      {
                        "id": "color",
                        "value": {
                          "fixedColor": "dark-red",
                          "mode": "fixed"
                        }
                      }
                    ]
                  }
                ]
              },
              "gridPos": {
                "h": 8,
                "w": 8,
                "x": 16,
                "y": 21
              },
              "id": 106,
              "interval": "$inter",
              "options": {
                "legend": {
                  "calcs": [
                    "mean",
                    "max"
                  ],
                  "displayMode": "table",
                  "placement": "bottom",
                  "showLegend": true,
                  "width": 300
                },
                "tooltip": {
                  "mode": "multi",
                  "sort": "none"
                }
              },
              "pluginVersion": "9.5.2",
              "targets": [
                {
                  "alias": "connector: $tag_connectorName topic: $tag_topicName",
                  "datasource": {
                    "0": "$",
                    "1": "d",
                    "2": "a",
                    "3": "t",
                    "4": "a",
                    "5": "s",
                    "6": "o",
                    "7": "u",
                    "8": "r",
                    "9": "c",
                    "10": "e"
                  },
                  "dsType": "influxdb",
                  "editorMode": "code",
                  "expr": "max(kafka_consumer_fetch_manager_records_per_request_avg{namespace=\"$namespace\",cluster=\"$cluster\",pod=~\"$pod\",topic=~\"$topic\"}) by (client_id, pod, topic)",
                  "groupBy": [
                    {
                      "params": [
                        "$inter"
                      ],
                      "type": "time"
                    },
                    {
                      "params": [
                        "connectorName"
                      ],
                      "type": "tag"
                    },
                    {
                      "params": [
                        "topicName"
                      ],
                      "type": "tag"
                    }
                  ],
                  "interval": "",
                  "legendFormat": "client_id={{ `{{` }}client_id{{ `}}` }}, topic={{ `{{` }}topic{{ `}}` }}, pod={{ `{{` }}pod{{ `}}` }}",
                  "measurement": "streaming-platform-topics-sink-connectors",
                  "orderByTime": "ASC",
                  "policy": "default",
                  "query": "SELECT min(\"successfullyHandledCount\") FROM \"streaming-platform-topics-sink-connectors\" WHERE \"project_name\" =~ /^$project$/ AND $timeFilter GROUP BY time($__interval), \"connectorName\", \"topicName\"",
                  "range": true,
                  "rawQuery": true,
                  "refId": "A",
                  "resultFormat": "time_series",
                  "select": [
                    [
                      {
                        "params": [
                          "successfullyHandledCount"
                        ],
                        "type": "field"
                      },
                      {
                        "params": [],
                        "type": "min"
                      }
                    ]
                  ],
                  "tags": []
                }
              ],
              "title": "Average Consumer Records Per Request",
              "type": "timeseries"
            },
            {
              "datasource": {
                "type": "prometheus",
                "uid": "$datasource"
              },
              "description": "The rate of rebalances and failed rebalances.",
              "fieldConfig": {
                "defaults": {
                  "color": {
                    "mode": "palette-classic"
                  },
                  "custom": {
                    "axisBorderShow": false,
                    "axisCenteredZero": false,
                    "axisColorMode": "text",
                    "axisLabel": "",
                    "axisPlacement": "auto",
                    "barAlignment": 0,
                    "drawStyle": "line",
                    "fillOpacity": 10,
                    "gradientMode": "none",
                    "hideFrom": {
                      "legend": false,
                      "tooltip": false,
                      "viz": false
                    },
                    "insertNulls": false,
                    "lineInterpolation": "linear",
                    "lineWidth": 1,
                    "pointSize": 5,
                    "scaleDistribution": {
                      "type": "linear"
                    },
                    "showPoints": "never",
                    "spanNulls": false,
                    "stacking": {
                      "group": "A",
                      "mode": "none"
                    },
                    "thresholdsStyle": {
                      "mode": "off"
                    }
                  },
                  "mappings": [],
                  "min": 0,
                  "thresholds": {
                    "mode": "absolute",
                    "steps": [
                      {
                        "color": "green",
                        "value": null
                      },
                      {
                        "color": "red",
                        "value": 80
                      }
                    ]
                  },
                  "unit": "cps"
                },
                "overrides": [
                  {
                    "matcher": {
                      "id": "byFrameRefID",
                      "options": "B"
                    },
                    "properties": [
                      {
                        "id": "color",
                        "value": {
                          "fixedColor": "dark-red",
                          "mode": "fixed"
                        }
                      }
                    ]
                  }
                ]
              },
              "gridPos": {
                "h": 8,
                "w": 8,
                "x": 0,
                "y": 29
              },
              "id": 93,
              "interval": "$inter",
              "options": {
                "legend": {
                  "calcs": [
                    "mean",
                    "max"
                  ],
                  "displayMode": "table",
                  "placement": "bottom",
                  "showLegend": true
                },
                "tooltip": {
                  "mode": "multi",
                  "sort": "none"
                }
              },
              "pluginVersion": "9.5.2",
              "targets": [
                {
                  "alias": "$tag_connectorName",
                  "datasource": {
                    "0": "$",
                    "1": "d",
                    "2": "a",
                    "3": "t",
                    "4": "a",
                    "5": "s",
                    "6": "o",
                    "7": "u",
                    "8": "r",
                    "9": "c",
                    "10": "e"
                  },
                  "dsType": "influxdb",
                  "editorMode": "code",
                  "expr": "rate(kafka_consumer_coordinator_rebalance_total{namespace=\"$namespace\",cluster=\"$cluster\",client_id=~\"$client_id\",pod=~\"$pod\"}[5m])",
                  "groupBy": [
                    {
                      "params": [
                        "$inter"
                      ],
                      "type": "time"
                    },
                    {
                      "params": [
                        "connectorName"
                      ],
                      "type": "tag"
                    }
                  ],
                  "interval": "",
                  "legendFormat": "client_id={{ `{{` }}client_id{{ `}}` }}, pod={{ `{{` }}pod{{ `}}` }}",
                  "measurement": "streaming-platform-connectors",
                  "orderByTime": "ASC",
                  "policy": "default",
                  "query": "SELECT non_negative_derivative(median(\"failedDocumentCount\"), $inter) FROM \"streaming-platform-connectors\" WHERE \"project_name\" =~ /^$project$/ AND $timeFilter GROUP BY time($inter), \"connectorName\"",
                  "range": true,
                  "rawQuery": true,
                  "refId": "A",
                  "resultFormat": "time_series",
                  "select": [
                    [
                      {
                        "params": [
                          "failedDocumentCount"
                        ],
                        "type": "field"
                      },
                      {
                        "params": [],
                        "type": "median"
                      },
                      {
                        "params": [
                          "$inter"
                        ],
                        "type": "non_negative_derivative"
                      }
                    ]
                  ],
                  "tags": []
                },
                {
                  "alias": "$tag_connectorName",
                  "datasource": {
                    "0": "$",
                    "1": "d",
                    "2": "a",
                    "3": "t",
                    "4": "a",
                    "5": "s",
                    "6": "o",
                    "7": "u",
                    "8": "r",
                    "9": "c",
                    "10": "e"
                  },
                  "dsType": "influxdb",
                  "editorMode": "code",
                  "expr": "rate(kafka_consumer_coordinator_failed_rebalance_total{namespace=\"$namespace\",cluster=\"$cluster\",client_id=~\"$client_id\",pod=~\"$pod\"}[5m])",
                  "groupBy": [
                    {
                      "params": [
                        "$inter"
                      ],
                      "type": "time"
                    },
                    {
                      "params": [
                        "connectorName"
                      ],
                      "type": "tag"
                    }
                  ],
                  "hide": false,
                  "interval": "",
                  "legendFormat": "Failed: client_id={{ `{{` }}client_id{{ `}}` }}, pod={{ `{{` }}pod{{ `}}` }}",
                  "measurement": "streaming-platform-connectors",
                  "orderByTime": "ASC",
                  "policy": "default",
                  "query": "SELECT non_negative_derivative(median(\"failedDocumentCount\"), $inter) FROM \"streaming-platform-connectors\" WHERE \"project_name\" =~ /^$project$/ AND $timeFilter GROUP BY time($inter), \"connectorName\"",
                  "range": true,
                  "rawQuery": true,
                  "refId": "B",
                  "resultFormat": "time_series",
                  "select": [
                    [
                      {
                        "params": [
                          "failedDocumentCount"
                        ],
                        "type": "field"
                      },
                      {
                        "params": [],
                        "type": "median"
                      },
                      {
                        "params": [
                          "$inter"
                        ],
                        "type": "non_negative_derivative"
                      }
                    ]
                  ],
                  "tags": []
                }
              ],
              "title": "Consumer Rebalance Rate",
              "type": "timeseries"
            },
            {
              "datasource": {
                "type": "prometheus",
                "uid": "$datasource"
              },
              "description": "The number of bytes that successfully processed by Consumer and written to Kafka topics per second.",
              "fieldConfig": {
                "defaults": {
                  "color": {
                    "mode": "palette-classic"
                  },
                  "custom": {
                    "axisBorderShow": false,
                    "axisCenteredZero": false,
                    "axisColorMode": "text",
                    "axisLabel": "",
                    "axisPlacement": "auto",
                    "barAlignment": 0,
                    "drawStyle": "line",
                    "fillOpacity": 20,
                    "gradientMode": "none",
                    "hideFrom": {
                      "legend": false,
                      "tooltip": false,
                      "viz": false
                    },
                    "insertNulls": false,
                    "lineInterpolation": "linear",
                    "lineWidth": 2,
                    "pointSize": 5,
                    "scaleDistribution": {
                      "type": "linear"
                    },
                    "showPoints": "never",
                    "spanNulls": false,
                    "stacking": {
                      "group": "A",
                      "mode": "none"
                    },
                    "thresholdsStyle": {
                      "mode": "off"
                    }
                  },
                  "decimals": 0,
                  "mappings": [],
                  "min": 0,
                  "thresholds": {
                    "mode": "absolute",
                    "steps": [
                      {
                        "color": "green",
                        "value": null
                      },
                      {
                        "color": "red",
                        "value": 80
                      }
                    ]
                  },
                  "unit": "binBps"
                },
                "overrides": []
              },
              "gridPos": {
                "h": 8,
                "w": 8,
                "x": 8,
                "y": 29
              },
              "id": 90,
              "interval": "$inter",
              "options": {
                "legend": {
                  "calcs": [
                    "mean",
                    "max"
                  ],
                  "displayMode": "table",
                  "placement": "bottom",
                  "showLegend": true,
                  "width": 300
                },
                "tooltip": {
                  "mode": "multi",
                  "sort": "none"
                }
              },
              "pluginVersion": "9.5.2",
              "targets": [
                {
                  "alias": "connector: $tag_connectorName topic: $tag_topicName",
                  "datasource": {
                    "0": "$",
                    "1": "d",
                    "2": "a",
                    "3": "t",
                    "4": "a",
                    "5": "s",
                    "6": "o",
                    "7": "u",
                    "8": "r",
                    "9": "c",
                    "10": "e"
                  },
                  "dsType": "influxdb",
                  "editorMode": "code",
                  "exemplar": true,
                  "expr": "rate(kafka_consumer_incoming_byte_total{namespace=\"$namespace\" ,cluster=\"$cluster\",client_id=~\"$client_id\",pod=~\"$pod\"}[5m]) ",
                  "groupBy": [
                    {
                      "params": [
                        "$inter"
                      ],
                      "type": "time"
                    },
                    {
                      "params": [
                        "connectorName"
                      ],
                      "type": "tag"
                    },
                    {
                      "params": [
                        "topicName"
                      ],
                      "type": "tag"
                    }
                  ],
                  "interval": "",
                  "legendFormat": "client_id={{ `{{` }}client_id{{ `}}` }}, pod={{ `{{` }}pod{{ `}}` }}",
                  "measurement": "streaming-platform-topics-source-connectors",
                  "orderByTime": "ASC",
                  "policy": "default",
                  "query": "SELECT min(\"totalHandledCount\") FROM \"streaming-platform-topics-source-connectors\" WHERE \"project_name\" =~ /^$project$/ AND $timeFilter GROUP BY time($inter), \"connectorName\", \"topicName\"",
                  "range": true,
                  "rawQuery": true,
                  "refId": "A",
                  "resultFormat": "time_series",
                  "select": [
                    [
                      {
                        "params": [
                          "totalHandledCount"
                        ],
                        "type": "field"
                      },
                      {
                        "params": [],
                        "type": "min"
                      }
                    ]
                  ],
                  "tags": []
                }
              ],
              "title": "Consumer Incoming Bytes Rate",
              "type": "timeseries"
            },
            {
              "datasource": {
                "type": "prometheus",
                "uid": "$datasource"
              },
              "description": "The average time between poll in ms.",
              "fieldConfig": {
                "defaults": {
                  "color": {
                    "mode": "palette-classic"
                  },
                  "custom": {
                    "axisBorderShow": false,
                    "axisCenteredZero": false,
                    "axisColorMode": "text",
                    "axisLabel": "",
                    "axisPlacement": "auto",
                    "barAlignment": 0,
                    "drawStyle": "line",
                    "fillOpacity": 20,
                    "gradientMode": "none",
                    "hideFrom": {
                      "legend": false,
                      "tooltip": false,
                      "viz": false
                    },
                    "insertNulls": false,
                    "lineInterpolation": "linear",
                    "lineWidth": 2,
                    "pointSize": 5,
                    "scaleDistribution": {
                      "type": "linear"
                    },
                    "showPoints": "never",
                    "spanNulls": false,
                    "stacking": {
                      "group": "A",
                      "mode": "none"
                    },
                    "thresholdsStyle": {
                      "mode": "off"
                    }
                  },
                  "mappings": [],
                  "min": 0,
                  "thresholds": {
                    "mode": "absolute",
                    "steps": [
                      {
                        "color": "green",
                        "value": null
                      },
                      {
                        "color": "red",
                        "value": 80
                      }
                    ]
                  },
                  "unit": "ms"
                },
                "overrides": [
                  {
                    "matcher": {
                      "id": "byFrameRefID",
                      "options": "B"
                    },
                    "properties": [
                      {
                        "id": "color",
                        "value": {
                          "fixedColor": "dark-red",
                          "mode": "fixed"
                        }
                      }
                    ]
                  }
                ]
              },
              "gridPos": {
                "h": 8,
                "w": 8,
                "x": 16,
                "y": 29
              },
              "id": 107,
              "interval": "$inter",
              "options": {
                "legend": {
                  "calcs": [
                    "mean",
                    "max"
                  ],
                  "displayMode": "table",
                  "placement": "bottom",
                  "showLegend": true,
                  "width": 300
                },
                "tooltip": {
                  "mode": "multi",
                  "sort": "none"
                }
              },
              "pluginVersion": "9.5.2",
              "targets": [
                {
                  "alias": "connector: $tag_connectorName topic: $tag_topicName",
                  "datasource": {
                    "0": "$",
                    "1": "d",
                    "2": "a",
                    "3": "t",
                    "4": "a",
                    "5": "s",
                    "6": "o",
                    "7": "u",
                    "8": "r",
                    "9": "c",
                    "10": "e"
                  },
                  "dsType": "influxdb",
                  "editorMode": "code",
                  "expr": "max(kafka_consumer_time_between_poll_avg{namespace=\"$namespace\",cluster=\"$cluster\",pod=~\"$pod\"}) by (client_id, pod)",
                  "groupBy": [
                    {
                      "params": [
                        "$inter"
                      ],
                      "type": "time"
                    },
                    {
                      "params": [
                        "connectorName"
                      ],
                      "type": "tag"
                    },
                    {
                      "params": [
                        "topicName"
                      ],
                      "type": "tag"
                    }
                  ],
                  "interval": "",
                  "legendFormat": "client_id={{ `{{` }}client_id{{ `}}` }}, pod={{ `{{` }}pod{{ `}}` }}",
                  "measurement": "streaming-platform-topics-sink-connectors",
                  "orderByTime": "ASC",
                  "policy": "default",
                  "query": "SELECT min(\"successfullyHandledCount\") FROM \"streaming-platform-topics-sink-connectors\" WHERE \"project_name\" =~ /^$project$/ AND $timeFilter GROUP BY time($__interval), \"connectorName\", \"topicName\"",
                  "range": true,
                  "rawQuery": true,
                  "refId": "A",
                  "resultFormat": "time_series",
                  "select": [
                    [
                      {
                        "params": [
                          "successfullyHandledCount"
                        ],
                        "type": "field"
                      },
                      {
                        "params": [],
                        "type": "min"
                      }
                    ]
                  ],
                  "tags": []
                }
              ],
              "title": "Average Time Between Poll",
              "type": "timeseries"
            }
          ],
          "title": "Consumer Metrics",
          "type": "row"
        },
        {
          "collapsed": true,
          "gridPos": {
            "h": 1,
            "w": 24,
            "x": 0,
            "y": 17
          },
          "id": 110,
          "panels": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${datasource}"
              },
              "description": "Shows per-second rate of listener calls count",
              "fieldConfig": {
                "defaults": {
                  "color": {
                    "mode": "palette-classic"
                  },
                  "custom": {
                    "axisBorderShow": false,
                    "axisCenteredZero": false,
                    "axisColorMode": "text",
                    "axisLabel": "",
                    "axisPlacement": "auto",
                    "barAlignment": 0,
                    "drawStyle": "line",
                    "fillOpacity": 10,
                    "gradientMode": "none",
                    "hideFrom": {
                      "legend": false,
                      "tooltip": false,
                      "viz": false
                    },
                    "insertNulls": false,
                    "lineInterpolation": "linear",
                    "lineWidth": 1,
                    "pointSize": 5,
                    "scaleDistribution": {
                      "type": "linear"
                    },
                    "showPoints": "never",
                    "spanNulls": false,
                    "stacking": {
                      "group": "A",
                      "mode": "none"
                    },
                    "thresholdsStyle": {
                      "mode": "off"
                    }
                  },
                  "mappings": [],
                  "thresholds": {
                    "mode": "absolute",
                    "steps": [
                      {
                        "color": "green",
                        "value": null
                      },
                      {
                        "color": "red",
                        "value": 80
                      }
                    ]
                  },
                  "unit": "ops"
                },
                "overrides": []
              },
              "gridPos": {
                "h": 7,
                "w": 8,
                "x": 0,
                "y": 5
              },
              "id": 109,
              "interval": "$inter",
              "options": {
                "legend": {
                  "calcs": [],
                  "displayMode": "list",
                  "placement": "bottom",
                  "showLegend": true
                },
                "tooltip": {
                  "mode": "single",
                  "sort": "none"
                }
              },
              "targets": [
                {
                  "datasource": {
                    "type": "prometheus",
                    "uid": "${datasource}"
                  },
                  "editorMode": "code",
                  "expr": "sum(rate(spring_kafka_listener_seconds_count{cluster=\"$cluster\", namespace=\"$namespace\", pod=~\"$pod\"}[5m])) by (name, pod)",
                  "instant": false,
                  "interval": "",
                  "legendFormat": "listener={{ `{{` }}name{{ `}}` }}, pod={{ `{{` }}pod{{ `}}` }}",
                  "range": true,
                  "refId": "A"
                }
              ],
              "title": "Listener Calls Rate",
              "type": "timeseries"
            },
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${datasource}"
              },
              "description": "Shows the count of Kafka listener failures",
              "fieldConfig": {
                "defaults": {
                  "color": {
                    "mode": "continuous-GrYlRd"
                  },
                  "custom": {
                    "axisBorderShow": false,
                    "axisCenteredZero": false,
                    "axisColorMode": "text",
                    "axisLabel": "",
                    "axisPlacement": "auto",
                    "barAlignment": 0,
                    "drawStyle": "line",
                    "fillOpacity": 0,
                    "gradientMode": "none",
                    "hideFrom": {
                      "legend": false,
                      "tooltip": false,
                      "viz": false
                    },
                    "insertNulls": false,
                    "lineInterpolation": "linear",
                    "lineWidth": 1,
                    "pointSize": 5,
                    "scaleDistribution": {
                      "type": "linear"
                    },
                    "showPoints": "never",
                    "spanNulls": false,
                    "stacking": {
                      "group": "A",
                      "mode": "none"
                    },
                    "thresholdsStyle": {
                      "mode": "off"
                    }
                  },
                  "mappings": [],
                  "thresholds": {
                    "mode": "absolute",
                    "steps": [
                      {
                        "color": "red",
                        "value": null
                      }
                    ]
                  },
                  "unit": "ops"
                },
                "overrides": []
              },
              "gridPos": {
                "h": 7,
                "w": 8,
                "x": 8,
                "y": 5
              },
              "id": 111,
              "interval": "$inter",
              "options": {
                "legend": {
                  "calcs": [
                    "last"
                  ],
                  "displayMode": "list",
                  "placement": "bottom",
                  "showLegend": true
                },
                "tooltip": {
                  "mode": "single",
                  "sort": "none"
                }
              },
              "targets": [
                {
                  "datasource": {
                    "type": "prometheus",
                    "uid": "PC3E95692D54ABCC0"
                  },
                  "editorMode": "code",
                  "expr": "sum(rate(spring_kafka_listener_seconds_count{cluster=\"$cluster\", namespace=\"$namespace\", pod=~\"$pod\", result!=\"success\"}[5m])) by (name, pod, exception) OR on() vector(0)",
                  "instant": false,
                  "interval": "",
                  "legendFormat": "{{ `{{` }}exception{{ `}}` }}: listener={{ `{{` }}name{{ `}}` }}, pod={{ `{{` }}pod{{ `}}` }}",
                  "range": true,
                  "refId": "A"
                }
              ],
              "title": "Listener Failures Rate",
              "type": "timeseries"
            },
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${datasource}"
              },
              "description": "Shows the average time of successful call processing by listener",
              "fieldConfig": {
                "defaults": {
                  "color": {
                    "mode": "palette-classic"
                  },
                  "custom": {
                    "axisBorderShow": false,
                    "axisCenteredZero": false,
                    "axisColorMode": "text",
                    "axisLabel": "",
                    "axisPlacement": "auto",
                    "barAlignment": 0,
                    "drawStyle": "line",
                    "fillOpacity": 10,
                    "gradientMode": "none",
                    "hideFrom": {
                      "legend": false,
                      "tooltip": false,
                      "viz": false
                    },
                    "insertNulls": false,
                    "lineInterpolation": "linear",
                    "lineWidth": 1,
                    "pointSize": 5,
                    "scaleDistribution": {
                      "type": "linear"
                    },
                    "showPoints": "never",
                    "spanNulls": false,
                    "stacking": {
                      "group": "A",
                      "mode": "none"
                    },
                    "thresholdsStyle": {
                      "mode": "off"
                    }
                  },
                  "mappings": [],
                  "thresholds": {
                    "mode": "absolute",
                    "steps": [
                      {
                        "color": "green",
                        "value": null
                      },
                      {
                        "color": "red",
                        "value": 80
                      }
                    ]
                  },
                  "unit": "s"
                },
                "overrides": []
              },
              "gridPos": {
                "h": 7,
                "w": 8,
                "x": 16,
                "y": 5
              },
              "id": 112,
              "interval": "$inter",
              "options": {
                "legend": {
                  "calcs": [],
                  "displayMode": "list",
                  "placement": "bottom",
                  "showLegend": true
                },
                "tooltip": {
                  "mode": "single",
                  "sort": "none"
                }
              },
              "targets": [
                {
                  "datasource": {
                    "type": "prometheus",
                    "uid": "${datasource}"
                  },
                  "editorMode": "code",
                  "expr": "sum(rate(spring_kafka_listener_seconds_sum{cluster=\"$cluster\", namespace=\"$namespace\", pod=~\"$pod\", result=\"success\"}[5m])) by (name, pod) / sum(rate(spring_kafka_listener_seconds_count{cluster=\"$cluster\", namespace=\"$namespace\", pod=~\"$pod\", result=\"success\"}[5m])) by (name, pod)",
                  "instant": false,
                  "interval": "",
                  "legendFormat": "listener={{ `{{` }}name{{ `}}` }}, pod={{ `{{` }}pod{{ `}}` }}",
                  "range": true,
                  "refId": "A"
                }
              ],
              "title": "Average Listener Processing Duration",
              "type": "timeseries"
            }
          ],
          "title": "Listener Metrics (Spring)",
          "type": "row"
        }
      ],
      "refresh": "30m",
      "schemaVersion": 39,
      "tags": [
        "Prometheus",
        "Kafka"
      ],
      "templating": {
        "list": [
          {
            "current": {
              "selected": false,
              "text": "Platform Monitoring Prometheus",
              "value": "Platform Monitoring Prometheus"
            },
            "hide": 0,
            "includeAll": false,
            "label": "Cloud",
            "multi": false,
            "name": "datasource",
            "options": [],
            "query": "prometheus",
            "refresh": 1,
            "regex": "",
            "skipUrlSync": false,
            "type": "datasource"
          },
          {
            "current": {
              "isNone": true,
              "selected": false,
              "text": "None",
              "value": ""
            },
            "datasource": {
              "type": "prometheus",
              "uid": "${datasource}"
            },
            "definition": "label_values(kafka_connect_worker_task_count,cluster)",
            "hide": 0,
            "includeAll": false,
            "label": "Cluster",
            "multi": false,
            "name": "cluster",
            "options": [],
            "query": {
              "query": "label_values(kafka_connect_worker_task_count,cluster)",
              "refId": "PrometheusVariableQueryEditor-VariableQuery"
            },
            "refresh": 1,
            "regex": "",
            "skipUrlSync": false,
            "sort": 0,
            "type": "query"
          },
          {
            "current": {
              "selected": true,
              "text": "monitoring",
              "value": "monitoring"
            },
            "datasource": {
              "type": "prometheus",
              "uid": "${datasource}"
            },
            "definition": "query_result(sum(kafka_consumer_fetch_manager_records_consumed_total) by (namespace) or sum(kafka_producer_topic_record_send_total) by (namespace))",
            "hide": 0,
            "includeAll": false,
            "label": "Namespace",
            "multi": false,
            "name": "namespace",
            "options": [],
            "query": {
              "qryType": 3,
              "query": "query_result(sum(kafka_consumer_fetch_manager_records_consumed_total) by (namespace) or sum(kafka_producer_topic_record_send_total) by (namespace))",
              "refId": "PrometheusVariableQueryEditor-VariableQuery"
            },
            "refresh": 1,
            "regex": "/{namespace=\"(.*)\".*/",
            "skipUrlSync": false,
            "sort": 0,
            "type": "query"
          },
          {
            "auto": true,
            "auto_count": 100,
            "auto_min": "1m",
            "current": {
              "selected": false,
              "text": "auto",
              "value": "$__auto_interval_inter"
            },
            "hide": 0,
            "label": "Sampling",
            "name": "inter",
            "options": [
              {
                "selected": true,
                "text": "auto",
                "value": "$__auto_interval_inter"
              },
              {
                "selected": false,
                "text": "1m",
                "value": "1m"
              },
              {
                "selected": false,
                "text": "2m",
                "value": "2m"
              },
              {
                "selected": false,
                "text": "5m",
                "value": "5m"
              },
              {
                "selected": false,
                "text": "10m",
                "value": "10m"
              },
              {
                "selected": false,
                "text": "30m",
                "value": "30m"
              },
              {
                "selected": false,
                "text": "1h",
                "value": "1h"
              },
              {
                "selected": false,
                "text": "2h",
                "value": "2h"
              },
              {
                "selected": false,
                "text": "5h",
                "value": "5h"
              },
              {
                "selected": false,
                "text": "10h",
                "value": "10h"
              },
              {
                "selected": false,
                "text": "1d",
                "value": "1d"
              }
            ],
            "query": "1m,2m,5m,10m,30m,1h, 2h, 5h, 10h 1d",
            "queryValue": "",
            "refresh": 2,
            "skipUrlSync": false,
            "type": "interval"
          },
          {
            "current": {
              "selected": true,
              "text": [
                "All"
              ],
              "value": [
                "$__all"
              ]
            },
            "datasource": {
              "type": "prometheus",
              "uid": "${datasource}"
            },
            "definition": "query_result(sum(kafka_consumer_fetch_manager_records_consumed_total{namespace=\"$namespace\",cluster=\"$cluster\"}) by (pod) or sum(kafka_producer_topic_record_send_total{namespace=\"$namespace\",cluster=\"$cluster\"}) by (pod))",
            "hide": 0,
            "includeAll": true,
            "label": "Pod",
            "multi": true,
            "name": "pod",
            "options": [],
            "query": {
              "query": "query_result(sum(kafka_consumer_fetch_manager_records_consumed_total{namespace=\"$namespace\",cluster=\"$cluster\"}) by (pod) or sum(kafka_producer_topic_record_send_total{namespace=\"$namespace\",cluster=\"$cluster\"}) by (pod))",
              "refId": "PrometheusVariableQueryEditor-VariableQuery"
            },
            "refresh": 1,
            "regex": "/{pod=\"(.*)\".*/",
            "skipUrlSync": false,
            "sort": 0,
            "type": "query"
          },
          {
            "current": {
              "selected": true,
              "text": [
                "All"
              ],
              "value": [
                "$__all"
              ]
            },
            "datasource": {
              "type": "prometheus",
              "uid": "${datasource}"
            },
            "definition": "query_result(sum(kafka_consumer_fetch_manager_records_consumed_total{namespace=\"$namespace\",cluster=\"$cluster\",pod=~\"$pod\"}) by (client_id) or sum(kafka_producer_topic_record_send_total{namespace=\"$namespace\",cluster=\"$cluster\",pod=~\"$pod\"}) by (client_id))",
            "hide": 0,
            "includeAll": true,
            "label": "Client ID",
            "multi": true,
            "name": "client_id",
            "options": [],
            "query": {
              "query": "query_result(sum(kafka_consumer_fetch_manager_records_consumed_total{namespace=\"$namespace\",cluster=\"$cluster\",pod=~\"$pod\"}) by (client_id) or sum(kafka_producer_topic_record_send_total{namespace=\"$namespace\",cluster=\"$cluster\",pod=~\"$pod\"}) by (client_id))",
              "refId": "PrometheusVariableQueryEditor-VariableQuery"
            },
            "refresh": 1,
            "regex": "/{client_id=\"(.*)\".*/",
            "skipUrlSync": false,
            "sort": 0,
            "type": "query"
          },
          {
            "current": {
              "selected": true,
              "text": [
                "All"
              ],
              "value": [
                "$__all"
              ]
            },
            "datasource": {
              "type": "prometheus",
              "uid": "${datasource}"
            },
            "definition": "query_result(sum(kafka_consumer_fetch_manager_records_consumed_total{namespace=\"$namespace\",cluster=\"$cluster\"}) by (topic) or sum(kafka_producer_topic_record_send_total{namespace=\"$namespace\",cluster=\"$cluster\"}) by (topic))",
            "hide": 0,
            "includeAll": true,
            "label": "Topic",
            "multi": true,
            "name": "topic",
            "options": [],
            "query": {
              "query": "query_result(sum(kafka_consumer_fetch_manager_records_consumed_total{namespace=\"$namespace\",cluster=\"$cluster\"}) by (topic) or sum(kafka_producer_topic_record_send_total{namespace=\"$namespace\",cluster=\"$cluster\"}) by (topic))",
              "refId": "PrometheusVariableQueryEditor-VariableQuery"
            },
            "refresh": 1,
            "regex": "/{topic=\"(.*)\".*/",
            "skipUrlSync": false,
            "sort": 0,
            "type": "query"
          }
        ]
      },
      "time": {
        "from": "now-30m",
        "to": "now"
      },
      "timepicker": {},
      "timezone": "browser",
      "title": "Kafka Java Clients Monitoring",
      "uid": "{{ printf `%.40s` ( printf `%s-%s` .Release.Namespace `kafka-java-clients` ) }}",
      "version": 0
    }
{{- end }}